webpackJsonp([33],{370:function(t,n,a){a(683);var e=a(0)(a(486),a(799),"data-v-7370096c",null);t.exports=e.exports},429:function(t,n){var a={options:{effect:"scale",cssClass:"popup-task-reward",buttons:[{text:"很好，继续赚钱",theme:"assertive"}]},template:function(t){var n=t.amount||"0.0",a=t.taskName||"";return'\n      <img class="img-lucky-draw-finished" src="//qianka.b0.upaiyun.com/images/782d55e2f4df935349e07273c06a11f1.png" alt="">\n      <scalable class="reward" height="62">\n        <span class="rmb">￥</span>\n        <span class="amount">'+parseFloat(n)+'</span>\n        <span class="yuan">元</span>\n      </scalable>\n      <div class="task-info">\n        <div class="line"></div>\n        <div class="task-type">彩蛋任务</div>\n        <div class="task-name">'+a+"</div>\n      </div>\n    "}},e={options:{effect:"scale",cssClass:"popup-general",buttons:[{text:"放弃"},{text:"不放弃"}]},template:'<div class="desc no-title">确定要放弃当前任务？</div>'};t.exports={popup_show_lucky_draw_prize:a,popupGiveUpTask:e}},486:function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=a(429),i=(a.n(e),a(38)),s=a.n(i);n.default={components:{CountDown:s.a},data:function(){return{egg:{id:0,task_name:"",url:"",deadline:0,icon:"",bundle_id:"",status:0},checkRewardLock:!1,steps:[1,0]}},mounted:function(){this.isAssistantAlive(this.loadData)},destroyed:function(){this.stopTimerAppStatus()},methods:{loadData:function(){var t=this;$api.eggsDetail().then(function(t){return t.data&&t.data.payload}).then(function(n){t.egg=n;var a=t.egg.status;if(2!==a){if(t.egg.status=a,1!==a)return void t.back();var e=$storage.get("qk:biz:eggs:done");if(e&&parseInt(e)===t.egg.id)return void t.back();$storage.set("qk:biz:eggs:done",t.egg.id)}t.doTimerAppStatus(t.egg.bundle_id)})},doTimerAppStatus:function(t){!this.timerAppStatus&&t&&(this.timerAppStatus=setInterval(this.checkAppStatus,1e3,t))},checkAppStatus:function(t){var n=this;$assistant.getAppInfo(t).then(function(t){return t.data&&t.data.payload}).then(function(t){var a=t;a&&a.bundle_id&&(n.steps=[1,1])})},appstore:function(){location.href=this.egg.url},stopTimerAppStatus:function(){this.timerAppStatus&&clearInterval(this.timerAppStatus)},checkReward:function(){var t=this;return 0!==this.steps[1]&&(!this.checkRewardLock&&(this.checkRewardLock=!0,$api.eggsDetail().then(function(t){var n=t.data.payload,a=n.status;if(1===a)return void $router.back("/tasks");if(2!==a){return void $popup.fromTemplate(function(t){return'\n                <div class="desc text-center">'+t+"</div>\n              "}("任务已作废"),{effect:"scale",cssClass:"popup-general",buttons:[{text:"返回任务列表"}]}).show().then(function(t){$router.forward("/tasks")})}$popup.fromTemplate('\n              <div class="title text-center">任务下载中</div>\n              <div class="desc text-center">任务下载\b完成后即可领取奖励</div>\n            ',{effect:"scale",cssClass:"popup-general",buttons:[{text:"知道了"}]}).show(),$assistant.updateState()}),void setTimeout(function(){t.checkRewardLock=!1},600)))},getReward:function(){this.isAssistantAlive(this.checkReward)},back:function(){$router.back({path:"/tasks"})},backAndGiveUp:function(){var t=this;$popup.fromTemplate(e.popupGiveUpTask.template,e.popupGiveUpTask.options).show().then(function(n){0===n&&$api.eggsGiveup(t.egg.id).then(function(){t.back()})})},isAssistantAlive:function(t){$assistant.alive().then(function(){t()},function(){$assistant.makePopup().then(function(t){return t.show()})})}}}},603:function(t,n,a){n=t.exports=a(360)(),n.push([t.i,'/* thin border */\n.qk-eggs-detail .task-reward[data-v-7370096c] {\n  padding-top: 20px;\n  height: 131px;\n  background-color: #fff;\n  -webkit-align-content: center;\n      -ms-flex-line-pack: center;\n          align-content: center;\n  text-align: center;\n}\n.qk-eggs-detail .task-reward .title[data-v-7370096c] {\n    height: 22px;\n    line-height: 22px;\n    font-size: 16px;\n    color: #484746;\n    margin-bottom: 8px;\n}\n.qk-eggs-detail .task-reward .reward[data-v-7370096c] {\n    height: 32px;\n    float: right;\n    position: relative !important;\n    right: 50%;\n}\n.qk-eggs-detail .task-reward .reward .reward-inner[data-v-7370096c] {\n      position: relative !important;\n      right: -50%;\n      float: right;\n      color: #EA5A49;\n}\n.qk-eggs-detail .task-reward .reward .reward-inner .num[data-v-7370096c] {\n        font-size: 32px;\n        line-height: 32px;\n}\n.qk-eggs-detail .task-reward .reward .reward-inner .num .tilde[data-v-7370096c] {\n          font-size: 48px;\n          vertical-align: top;\n          display: block;\n          float: left;\n}\n.qk-eggs-detail .task-reward .reward .reward-inner .num .amount[data-v-7370096c] {\n          display: block;\n          float: left;\n}\n.qk-eggs-detail .task-reward .reward .reward-inner .yuan[data-v-7370096c] {\n        font-family: PingFangSC-Regular;\n        font-size: 11px;\n        color: #EA5A49;\n}\n.qk-eggs-detail .task-reward .reward .reward-inner .tips[data-v-7370096c] {\n        position: absolute;\n        right: -35px;\n        top: 0;\n        display: inline-block;\n}\n.qk-eggs-detail .task-reward .reward .reward-inner .tips img[data-v-7370096c] {\n          width: 34px;\n          height: 17px;\n}\n.qk-eggs-detail .task-reward .timer[data-v-7370096c] {\n    color: #888888;\n    margin-top: 10px;\n    letter-spacing: 0;\n    position: relative;\n    float: right;\n    right: 50%;\n}\n.qk-eggs-detail .task-reward .timer .timer-inner[data-v-7370096c] {\n      position: relative;\n      height: 21px;\n      line-height: 21px;\n      float: right;\n      right: -50%;\n      background-color: #F5F5F5;\n      font-size: 12px;\n      padding: 0 8px;\n      border-radius: 50px;\n}\n.qk-eggs-detail .task-reward .clearfix[data-v-7370096c] {\n    clear: both;\n}\n.qk-eggs-detail .task-detail[data-v-7370096c] {\n  padding-top: 30px;\n  height: 163px;\n  background-color: #fff;\n  text-align: center;\n}\n.qk-eggs-detail .task-detail .app-icon[data-v-7370096c] {\n    position: relative;\n    top: -140px;\n    z-index: 123;\n    margin: 0 auto;\n    width: 108px;\n    height: 108px;\n    border: 1px rgba(255, 255, 255, 0.5) solid;\n    border-radius: 8px;\n    -webkit-transform: scale(0.5);\n}\n.qk-eggs-detail .task-detail .app-icon img[data-v-7370096c] {\n      width: 100%;\n      height: 100%;\n      border-radius: 8px;\n}\n.qk-eggs-detail .task-detail .task-name[data-v-7370096c] {\n    margin-top: 64px;\n    height: 22px;\n    max-width: 90%;\n    margin-left: auto;\n    margin-right: auto;\n    display: block;\n    line-height: 22px;\n    font-size: 16px;\n    color: #484746;\n}\n.qk-eggs-detail .task-detail .task-desc[data-v-7370096c] {\n    margin-top: 10px;\n    height: 17px;\n    font-size: 12px;\n    color: #B5B5B5;\n    line-height: 17px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n.qk-eggs-detail .buttons[data-v-7370096c] {\n  width: 175px;\n  margin: 30px auto;\n}\n.qk-eggs-detail .buttons .btn-appstore[data-v-7370096c] {\n    border-radius: 2px !important;\n    width: 175px;\n    font-size: 14px;\n    color: #FFFFFF;\n    background: #EA5A49;\n    font-family: "PingFangSC-Regular", "-apple-system", "Helvetica Neue", "Roboto", "Segoe UI", sans-serif;\n    font-weight: 400;\n}\n.qk-eggs-detail .buttons .btn-appstore.disabled[data-v-7370096c] {\n      opacity: 1;\n      background: #DDDDDD;\n      font-size: 14px;\n      color: #FFFFFF;\n}\n.qk-eggs-detail .bottom-text[data-v-7370096c] {\n  height: 44px;\n  font-size: 12px;\n  color: #B5B5B5;\n  line-height: 22px;\n  text-align: center;\n  font-family: PingFangSC-Regular;\n}\n',"",{version:3,sources:["/Users/wumin/diablo/src/components/eggs/Detail.vue"],names:[],mappings:"AAAA,iBAAiB;AACjB;EACE,kBAAkB;EAClB,cAAc;EACd,uBAAuB;EACvB,8BAA8B;MAC1B,2BAA2B;UACvB,sBAAsB;EAC9B,mBAAmB;CACpB;AACD;IACI,aAAa;IACb,kBAAkB;IAClB,gBAAgB;IAChB,eAAe;IACf,mBAAmB;CACtB;AACD;IACI,aAAa;IACb,aAAa;IACb,8BAA8B;IAC9B,WAAW;CACd;AACD;MACM,8BAA8B;MAC9B,YAAY;MACZ,aAAa;MACb,eAAe;CACpB;AACD;QACQ,gBAAgB;QAChB,kBAAkB;CACzB;AACD;UACU,gBAAgB;UAChB,oBAAoB;UACpB,eAAe;UACf,YAAY;CACrB;AACD;UACU,eAAe;UACf,YAAY;CACrB;AACD;QACQ,gCAAgC;QAChC,gBAAgB;QAChB,eAAe;CACtB;AACD;QACQ,mBAAmB;QACnB,aAAa;QACb,OAAO;QACP,sBAAsB;CAC7B;AACD;UACU,YAAY;UACZ,aAAa;CACtB;AACD;IACI,eAAe;IACf,iBAAiB;IACjB,kBAAkB;IAClB,mBAAmB;IACnB,aAAa;IACb,WAAW;CACd;AACD;MACM,mBAAmB;MACnB,aAAa;MACb,kBAAkB;MAClB,aAAa;MACb,YAAY;MACZ,0BAA0B;MAC1B,gBAAgB;MAChB,eAAe;MACf,oBAAoB;CACzB;AACD;IACI,YAAY;CACf;AACD;EACE,kBAAkB;EAClB,cAAc;EACd,uBAAuB;EACvB,mBAAmB;CACpB;AACD;IACI,mBAAmB;IACnB,YAAY;IACZ,aAAa;IACb,eAAe;IACf,aAAa;IACb,cAAc;IACd,2CAA2C;IAC3C,mBAAmB;IACnB,8BAA8B;CACjC;AACD;MACM,YAAY;MACZ,aAAa;MACb,mBAAmB;CACxB;AACD;IACI,iBAAiB;IACjB,aAAa;IACb,eAAe;IACf,kBAAkB;IAClB,mBAAmB;IACnB,eAAe;IACf,kBAAkB;IAClB,gBAAgB;IAChB,eAAe;CAClB;AACD;IACI,iBAAiB;IACjB,aAAa;IACb,gBAAgB;IAChB,eAAe;IACf,kBAAkB;IAClB,iBAAiB;IACjB,wBAAwB;CAC3B;AACD;EACE,aAAa;EACb,kBAAkB;CACnB;AACD;IACI,8BAA8B;IAC9B,aAAa;IACb,gBAAgB;IAChB,eAAe;IACf,oBAAoB;IACpB,uGAAuG;IACvG,iBAAiB;CACpB;AACD;MACM,WAAW;MACX,oBAAoB;MACpB,gBAAgB;MAChB,eAAe;CACpB;AACD;EACE,aAAa;EACb,gBAAgB;EAChB,eAAe;EACf,kBAAkB;EAClB,mBAAmB;EACnB,gCAAgC;CACjC",file:"Detail.vue",sourcesContent:['/* thin border */\n.qk-eggs-detail .task-reward[data-v-7370096c] {\n  padding-top: 20px;\n  height: 131px;\n  background-color: #fff;\n  -webkit-align-content: center;\n      -ms-flex-line-pack: center;\n          align-content: center;\n  text-align: center;\n}\n.qk-eggs-detail .task-reward .title[data-v-7370096c] {\n    height: 22px;\n    line-height: 22px;\n    font-size: 16px;\n    color: #484746;\n    margin-bottom: 8px;\n}\n.qk-eggs-detail .task-reward .reward[data-v-7370096c] {\n    height: 32px;\n    float: right;\n    position: relative !important;\n    right: 50%;\n}\n.qk-eggs-detail .task-reward .reward .reward-inner[data-v-7370096c] {\n      position: relative !important;\n      right: -50%;\n      float: right;\n      color: #EA5A49;\n}\n.qk-eggs-detail .task-reward .reward .reward-inner .num[data-v-7370096c] {\n        font-size: 32px;\n        line-height: 32px;\n}\n.qk-eggs-detail .task-reward .reward .reward-inner .num .tilde[data-v-7370096c] {\n          font-size: 48px;\n          vertical-align: top;\n          display: block;\n          float: left;\n}\n.qk-eggs-detail .task-reward .reward .reward-inner .num .amount[data-v-7370096c] {\n          display: block;\n          float: left;\n}\n.qk-eggs-detail .task-reward .reward .reward-inner .yuan[data-v-7370096c] {\n        font-family: PingFangSC-Regular;\n        font-size: 11px;\n        color: #EA5A49;\n}\n.qk-eggs-detail .task-reward .reward .reward-inner .tips[data-v-7370096c] {\n        position: absolute;\n        right: -35px;\n        top: 0;\n        display: inline-block;\n}\n.qk-eggs-detail .task-reward .reward .reward-inner .tips img[data-v-7370096c] {\n          width: 34px;\n          height: 17px;\n}\n.qk-eggs-detail .task-reward .timer[data-v-7370096c] {\n    color: #888888;\n    margin-top: 10px;\n    letter-spacing: 0;\n    position: relative;\n    float: right;\n    right: 50%;\n}\n.qk-eggs-detail .task-reward .timer .timer-inner[data-v-7370096c] {\n      position: relative;\n      height: 21px;\n      line-height: 21px;\n      float: right;\n      right: -50%;\n      background-color: #F5F5F5;\n      font-size: 12px;\n      padding: 0 8px;\n      border-radius: 50px;\n}\n.qk-eggs-detail .task-reward .clearfix[data-v-7370096c] {\n    clear: both;\n}\n.qk-eggs-detail .task-detail[data-v-7370096c] {\n  padding-top: 30px;\n  height: 163px;\n  background-color: #fff;\n  text-align: center;\n}\n.qk-eggs-detail .task-detail .app-icon[data-v-7370096c] {\n    position: relative;\n    top: -140px;\n    z-index: 123;\n    margin: 0 auto;\n    width: 108px;\n    height: 108px;\n    border: 1px rgba(255, 255, 255, 0.5) solid;\n    border-radius: 8px;\n    -webkit-transform: scale(0.5);\n}\n.qk-eggs-detail .task-detail .app-icon img[data-v-7370096c] {\n      width: 100%;\n      height: 100%;\n      border-radius: 8px;\n}\n.qk-eggs-detail .task-detail .task-name[data-v-7370096c] {\n    margin-top: 64px;\n    height: 22px;\n    max-width: 90%;\n    margin-left: auto;\n    margin-right: auto;\n    display: block;\n    line-height: 22px;\n    font-size: 16px;\n    color: #484746;\n}\n.qk-eggs-detail .task-detail .task-desc[data-v-7370096c] {\n    margin-top: 10px;\n    height: 17px;\n    font-size: 12px;\n    color: #B5B5B5;\n    line-height: 17px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n.qk-eggs-detail .buttons[data-v-7370096c] {\n  width: 175px;\n  margin: 30px auto;\n}\n.qk-eggs-detail .buttons .btn-appstore[data-v-7370096c] {\n    border-radius: 2px !important;\n    width: 175px;\n    font-size: 14px;\n    color: #FFFFFF;\n    background: #EA5A49;\n    font-family: "PingFangSC-Regular", "-apple-system", "Helvetica Neue", "Roboto", "Segoe UI", sans-serif;\n    font-weight: 400;\n}\n.qk-eggs-detail .buttons .btn-appstore.disabled[data-v-7370096c] {\n      opacity: 1;\n      background: #DDDDDD;\n      font-size: 14px;\n      color: #FFFFFF;\n}\n.qk-eggs-detail .bottom-text[data-v-7370096c] {\n  height: 44px;\n  font-size: 12px;\n  color: #B5B5B5;\n  line-height: 22px;\n  text-align: center;\n  font-family: PingFangSC-Regular;\n}\n'],sourceRoot:""}])},683:function(t,n,a){var e=a(603);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);a(361)("79b6ae44",e,!0)},799:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{directives:[{name:"nav",rawName:"v-nav",value:{title:"彩蛋任务详情",showBackButton:!0,onBackButtonClick:t.backAndGiveUp},expression:"{title: '彩蛋任务详情', showBackButton: true, onBackButtonClick: backAndGiveUp}"}],staticClass:"page has-navbar"},[a("div",{staticClass:"page-content qk-eggs-detail"},[a("scroller",{ref:"scroller",staticStyle:{top:"44px"}},[a("div",{staticClass:"task-reward"},[a("div",{staticClass:"title"},[t._v("任务奖励")]),t._v(" "),a("div",{staticClass:"reward"},[a("div",{staticClass:"reward-inner"},[a("span",{staticClass:"num"},[a("span",{staticClass:"amount"},[t._v("0")]),t._v(" "),a("span",{staticClass:"tilde"},[t._v("~")]),t._v(" "),a("span",{staticClass:"amount"},[t._v("10")])]),t._v(" "),a("span",{staticClass:"yuan"},[t._v("元")]),t._v(" "),a("span",{staticClass:"tips"},[a("img",{attrs:{src:"http://qianka.b0.upaiyun.com/images/6067986a8153129f952803af304d5497.png",alt:""}})])])]),t._v(" "),a("div",{staticClass:"clearfix"}),t._v(" "),a("div",{staticClass:"timer"},[t.egg.deadline?a("div",{staticClass:"timer-inner"},[t._v("\n            剩余时间 "),a("count-down",{attrs:{format:"mm:ss",deadline:1e3*t.egg.deadline}})],1):t._e()]),t._v(" "),a("div",{staticClass:"clearfix"})]),t._v(" "),a("div",{staticStyle:{height:"10px"}}),t._v(" "),a("div",{staticClass:"task-detail"},[a("div",{staticClass:"task-name text-ellipsis",domProps:{textContent:t._s(t.egg.task_name)}}),t._v(" "),a("div",{staticClass:"task-desc"},[t._v("下载应用获得奖励")]),t._v(" "),a("div",{staticClass:"app-icon"},[a("img",{attrs:{src:t.egg.icon}})])]),t._v(" "),a("div",{staticClass:"buttons"},[a("div",{staticClass:"button button-assertive btn-appstore",on:{click:function(n){t.appstore()}}},[t._v("\n          立即下载\n        ")]),t._v(" "),a("div",{staticClass:"button button-assertive btn-appstore",class:{disabled:0==t.steps[1]},staticStyle:{"margin-top":"15px"},on:{click:function(n){t.getReward()}}},[t._v("\n          领取奖励\n        ")])]),t._v(" "),a("div",{staticClass:"bottom-text"},[t._v("\n      仅幸运用户可领取本任务，每个任务皆是唯一的\n      ")]),t._v(" "),a("div",{staticStyle:{height:"300px"}})])],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=egg-detail.6ae6844cc31beb7c2ff9.js.map
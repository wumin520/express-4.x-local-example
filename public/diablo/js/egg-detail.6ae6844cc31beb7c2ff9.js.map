{"version":3,"sources":["webpack:///diablo/js/egg-detail.6ae6844cc31beb7c2ff9.js","webpack:///./src/components/eggs/Detail.vue","webpack:///./src/components/eggs/popups.js?52cd","webpack:///Detail.vue","webpack:///./src/components/eggs/Detail.vue?cdbd","webpack:///./src/components/eggs/Detail.vue?e6c2","webpack:///./src/components/eggs/Detail.vue?496f"],"names":["webpackJsonp","370","module","exports","__webpack_require__","Component","429","popup_show_lucky_draw_prize","options","effect","cssClass","buttons","text","theme","template","amount","taskName","parseFloat","popupGiveUpTask","486","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__popups_js__","__WEBPACK_IMPORTED_MODULE_1__widget_CountDown__","n","__WEBPACK_IMPORTED_MODULE_1__widget_CountDown___default","components","CountDown","a","data","egg","id","task_name","url","deadline","icon","bundle_id","status","checkRewardLock","steps","mounted","this","isAssistantAlive","loadData","destroyed","stopTimerAppStatus","methods","_this","$api","eggsDetail","then","res","payload","back","done","$storage","get","parseInt","set","doTimerAppStatus","bundleId","timerAppStatus","setInterval","checkAppStatus","_this2","$assistant","getAppInfo","response","resp","appstore","location","href","clearInterval","checkReward","_this3","$router","$popup","fromTemplate","message","show","btn","forward","updateState","setTimeout","getReward","path","backAndGiveUp","_this4","eggsGiveup","fn","alive","makePopup","popup","603","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","683","content","locals","799","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","title","showBackButton","onBackButtonClick","expression","staticClass","ref","staticStyle","top","_v","attrs","src","alt","format","_e","height","domProps","textContent","_s","on","click","$event","class","disabled","margin-top","staticRenderFns"],"mappings":"AAAAA,cAAc,KAERC,IACA,SAAUC,EAAQC,EAASC,GCDjCA,EAAA,IAEA,IAAAC,GAAAD,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,kBAEA,KAGAF,GAAAC,QAAAE,EAAAF,SDUMG,IACA,SAAUJ,EAAQC,GEvBxB,GAAMI,IACJC,SACEC,OAAQ,QACRC,SAAU,oBACVC,UACGC,KAAM,UAAWC,MAAO,eAG7BC,SAAU,SAAUN,GAClB,GAAIO,GAASP,EAAQO,QAAU,MAC3BC,EAAWR,EAAQQ,UAAY,EAEnC,wPAI2BC,WAAWF,GAJtC,+MAU6BC,EAV7B,+BAiBEE,GACJV,SACEC,OAAQ,QACRC,SAAU,gBACVC,UACIC,KAAM,OACNA,KAAM,SAGZE,SAAU,8CAGZZ,GAAOC,SACLI,8BACAW,oBFaIC,IACA,SAAUjB,EAAQkB,EAAqBhB,GAE7C,YACAiB,QAAOC,eAAeF,EAAqB,cAAgBG,OAAO,GAC7C,IAAIC,GAA2CpB,EAAoB,KAE/DqB,GADmDrB,EAAoBsB,EAAEF,GACvBpB,EAAoB,KACtEuB,EAA0DvB,EAAoBsB,EAAED,EG8KzGL,GAAA,SHvKEQ,YG2KFC,UAAAF,EAAAG,GHxKEC,KAAM,WACJ,OACEC,KACEC,GGyKR,EHxKQC,UGyKR,GHxKQC,IGyKR,GHxKQC,SGyKR,EHxKQC,KGyKR,GHxKQC,UGyKR,GHxKQC,OG0KR,GHxKMC,iBGyKN,EHxKMC,OAAQ,EG0Kd,KHvKEC,QAAS,WACPC,KAAKC,iBAAiBD,KGyK1BE,WHvKEC,UAAW,WACTH,KGyKJI,sBHtKEC,SACEH,SAAU,WGwKd,GAAAI,GAAAN,IHrKMO,MGsKNC,aAAAC,KAAA,SAAAC,GHrKQ,MAAOA,GAAItB,MAAQsB,EAAItB,KGsK/BuB,UHrKSF,KAAK,SAAUE,GAChBL,EAAMjB,IGsKdsB,CHrKQ,IAAIf,GAASU,EAAMjB,IGsK3BO,MHrKQ,IAAe,IAAXA,EGsKZ,CHpKU,GADAU,EAAMjB,IAAIO,OGsKpBA,EHrKyB,IAAXA,EGgLd,WHvKYU,GGsKZM,MH9KY,IAAIC,GAAOC,SAASC,IGsKhC,mBHpKY,IAAIF,GAAQG,SAASH,KAAUP,EAAMjB,IAAIC,GGwKrD,WHvKcgB,GGsKdM,MHnKYE,UAASG,IAAI,mBAAoBX,EAAMjB,IGsKnDC,IH/JQgB,EAAMY,iBAAiBZ,EAAMjB,IGsKrCM,cHnKIuB,iBAAkB,SAA0BC,IACtCnB,KAAKoB,gBAAmBD,IAI5BnB,KAAKoB,eAAiBC,YAAYrB,KAAKsB,eAAgB,IGsK7DH,KHpKIG,eAAgB,SAAwBH,GGuK5C,GAAAI,GAAAvB,IHpKMwB,YAAWC,WGqKjBN,GAAAV,KAAA,SAAAiB,GHpKQ,MAAOA,GAAStC,MAAQsC,EAAStC,KGqKzCuB,UHpKSF,KAAK,SAAUE,GAChB,GAAIgB,GGsKZhB,CHpKYgB,IAAQA,EAAKhC,YACf4B,EAAOzB,OAAS,EGsK1B,OHlKI8B,SAAU,WACRC,SAASC,KAAO9B,KAAKX,IGsK3BG,KHpKIY,mBAAoB,WACdJ,KAAKoB,gBACPW,cAAc/B,KGsKtBoB,iBHnKIY,YAAa,WGsKjB,GAAAC,GAAAjC,IHnKM,OAAsB,KAAlBA,KAAKF,MAAM,MACXE,KAAKH,kBACTG,KAAKH,iBGqKX,EHnKMU,KGoKNC,aAAAC,KAAA,SAAAiB,GHnKQ,GAAIf,GAAUe,EAAStC,KGqK/BuB,QHpKYf,EAASe,EGsKrBf,MHpKQ,IAAe,IAAXA,EGuKZ,WHtKUsC,SAAQtB,KGqKlB,SHnKe,IAAe,IAAXhB,EGiLnB,CAmBA,WAVAuC,QAAAC,aHhL0B,SAAmBC,GG2K7C,yDAEAA,EAAA,0BAJA,UHpKYvE,OG6KZ,QH5KYC,SG6KZ,gBH5KYC,UAAYC,KG8KxB,aACAqE,OAAA7B,KAAA,SAAA8B,GH7KYL,QAAQM,QG+KpB,YAxBAL,OAAAC,aADA,+IHtKYtE,OGyKZ,QHxKYC,SGyKZ,gBHxKYC,UAAYC,KG0KxB,UACAqE,OHxJQd,WGgLRiB,oBH7KMC,YAAW,WACTT,EAAOpC,iBGgLf,GACA,QH9KI8C,UAAW,WACT3C,KAAKC,iBAAiBD,KGgL5BgC,cH9KIpB,KAAM,WACJsB,QAAQtB,MAAOgC,KGgLrB,YH9KIC,cAAe,WGgLnB,GAAAC,GAAA9C,IH7KkBmC,QAAOC,aAAavD,EAA0D,gBAAEV,SAAUU,EAA0D,gBG8KtKhB,SH7KYyE,OAAO7B,KAAK,SAAU8B,GACd,IAARA,GACFhC,KAAKwC,WAAWD,EAAOzD,IAAIC,IAAImB,KAAK,WAClCqC,EG8KZlC,YHzKIX,iBAAkB,SAA0B+C,GGiLhDxB,WACAyB,QAAAxC,KAAA,WAEAuC,KHjLS,WACDxB,WAAW0B,YAAYzC,KAAK,SAAU0C,GACpC,MAAOA,GGiLjBb,eHxKMc,IACA,SAAU7F,EAAQC,EAASC,GIzOjCD,EAAAD,EAAAC,QAAAC,EAAA,OAKAD,EAAA6F,MAAA9F,EAAA+F,EAAA,ogIAAmiI,IAAUC,QAAA,EAAAC,SAAA,sDAAAC,SAAAC,SAAA,66CAAygDC,KAAA,aAAAC,gBAAA,qgIAAujIC,WAAA,OJkPvmTC,IACA,SAAUvG,EAAQC,EAASC,GKrPjC,GAAAsG,GAAAtG,EAAA,IACA,iBAAAsG,SAAAxG,EAAA+F,EAAAS,EAAA,MACAA,EAAAC,SAAAzG,EAAAC,QAAAuG,EAAAC,OAEAvG,GAAA,gBAAAsG,GAAA,IL8PME,IACA,SAAU1G,EAAQC,GMtQxBD,EAAAC,SAAgB0G,OAAA,WAAmB,GAAAC,GAAAnE,KAAaoE,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAE,aACAC,KAAA,MACAC,QAAA,QACA9F,OACA+F,MAAA,SACAC,gBAAA,EACAC,kBAAAV,EAAAtB,eAEAiC,WAAA,8EAEAC,YAAA,oBACGT,EAAA,OACHS,YAAA,gCACGT,EAAA,YACHU,IAAA,WACAC,aACAC,IAAA,UAEGZ,EAAA,OACHS,YAAA,gBACGT,EAAA,OACHS,YAAA,UACGZ,EAAAgB,GAAA,UAAAhB,EAAAgB,GAAA,KAAAb,EAAA,OACHS,YAAA,WACGT,EAAA,OACHS,YAAA,iBACGT,EAAA,QACHS,YAAA,QACGT,EAAA,QACHS,YAAA,WACGZ,EAAAgB,GAAA,OAAAhB,EAAAgB,GAAA,KAAAb,EAAA,QACHS,YAAA,UACGZ,EAAAgB,GAAA,OAAAhB,EAAAgB,GAAA,KAAAb,EAAA,QACHS,YAAA,WACGZ,EAAAgB,GAAA,UAAAhB,EAAAgB,GAAA,KAAAb,EAAA,QACHS,YAAA,SACGZ,EAAAgB,GAAA,OAAAhB,EAAAgB,GAAA,KAAAb,EAAA,QACHS,YAAA,SACGT,EAAA,OACHc,OACAC,IAAA,2EACAC,IAAA,YAEGnB,EAAAgB,GAAA,KAAAb,EAAA,OACHS,YAAA,aACGZ,EAAAgB,GAAA,KAAAb,EAAA,OACHS,YAAA,UACGZ,EAAA9E,IAAA,SAAAiF,EAAA,OACHS,YAAA,gBACGZ,EAAAgB,GAAA,uBAAAb,EAAA,cACHc,OACAG,OAAA,QACA9F,SAAA,IAAA0E,EAAA9E,IAAAI,aAEG,GAAA0E,EAAAqB,OAAArB,EAAAgB,GAAA,KAAAb,EAAA,OACHS,YAAA,eACGZ,EAAAgB,GAAA,KAAAb,EAAA,OACHW,aACAQ,OAAA,UAEGtB,EAAAgB,GAAA,KAAAb,EAAA,OACHS,YAAA,gBACGT,EAAA,OACHS,YAAA,0BACAW,UACAC,YAAAxB,EAAAyB,GAAAzB,EAAA9E,IAAAE,cAEG4E,EAAAgB,GAAA,KAAAb,EAAA,OACHS,YAAA,cACGZ,EAAAgB,GAAA,cAAAhB,EAAAgB,GAAA,KAAAb,EAAA,OACHS,YAAA,aACGT,EAAA,OACHc,OACAC,IAAAlB,EAAA9E,IAAAK,YAEGyE,EAAAgB,GAAA,KAAAb,EAAA,OACHS,YAAA,YACGT,EAAA,OACHS,YAAA,uCACAc,IACAC,MAAA,SAAAC,GACA5B,EAAAvC,eAGGuC,EAAAgB,GAAA,gCAAAhB,EAAAgB,GAAA,KAAAb,EAAA,OACHS,YAAA,uCACAiB,OACAC,SAAA,GAAA9B,EAAArE,MAAA,IAEAmF,aACAiB,aAAA,QAEAL,IACAC,MAAA,SAAAC,GACA5B,EAAAxB,gBAGGwB,EAAAgB,GAAA,kCAAAhB,EAAAgB,GAAA,KAAAb,EAAA,OACHS,YAAA,gBACGZ,EAAAgB,GAAA,2CAAAhB,EAAAgB,GAAA,KAAAb,EAAA,OACHW,aACAQ,OAAA,cAEG,MACFU","file":"diablo/js/egg-detail.6ae6844cc31beb7c2ff9.js","sourcesContent":["webpackJsonp([33],{\n\n/***/ 370:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(683)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(486),\n  /* template */\n  __webpack_require__(799),\n  /* scopeId */\n  \"data-v-7370096c\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 429:\n/***/ (function(module, exports) {\n\n\nvar popup_show_lucky_draw_prize = {\n  options: {\n    effect: 'scale',\n    cssClass: 'popup-task-reward',\n    buttons: [{ text: '很好，继续赚钱', theme: 'assertive' }]\n  },\n  template: function template(options) {\n    var amount = options.amount || '0.0';\n    var taskName = options.taskName || '';\n\n    return '\\n      <img class=\"img-lucky-draw-finished\" src=\"//qianka.b0.upaiyun.com/images/782d55e2f4df935349e07273c06a11f1.png\" alt=\"\">\\n      <scalable class=\"reward\" height=\"62\">\\n        <span class=\"rmb\">\\uFFE5</span>\\n        <span class=\"amount\">' + parseFloat(amount) + '</span>\\n        <span class=\"yuan\">\\u5143</span>\\n      </scalable>\\n      <div class=\"task-info\">\\n        <div class=\"line\"></div>\\n        <div class=\"task-type\">\\u5F69\\u86CB\\u4EFB\\u52A1</div>\\n        <div class=\"task-name\">' + taskName + '</div>\\n      </div>\\n    ';\n  }\n};\n\nvar popupGiveUpTask = {\n  options: {\n    effect: 'scale',\n    cssClass: 'popup-general',\n    buttons: [{ text: '放弃' }, { text: '不放弃' }]\n  },\n  template: '<div class=\"desc no-title\">确定要放弃当前任务？</div>'\n};\n\nmodule.exports = {\n  popup_show_lucky_draw_prize: popup_show_lucky_draw_prize,\n  popupGiveUpTask: popupGiveUpTask\n};\n\n/***/ }),\n\n/***/ 486:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__popups_js__ = __webpack_require__(429);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__popups_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__popups_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__widget_CountDown__ = __webpack_require__(38);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__widget_CountDown___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__widget_CountDown__);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  components: {\n    CountDown: __WEBPACK_IMPORTED_MODULE_1__widget_CountDown___default.a\n  },\n  data: function data() {\n    return {\n      egg: {\n        id: 0,\n        task_name: '',\n        url: '',\n        deadline: 0,\n        icon: '',\n        bundle_id: '',\n        status: 0\n      },\n      checkRewardLock: false,\n      steps: [1, 0]\n    };\n  },\n  mounted: function mounted() {\n    this.isAssistantAlive(this.loadData);\n  },\n  destroyed: function destroyed() {\n    this.stopTimerAppStatus();\n  },\n\n  methods: {\n    loadData: function loadData() {\n      var _this = this;\n\n      $api.eggsDetail().then(function (res) {\n        return res.data && res.data.payload;\n      }).then(function (payload) {\n        _this.egg = payload;\n        var status = _this.egg.status;\n        if (status !== 2) {\n          _this.egg.status = status;\n          if (status === 1) {\n            var done = $storage.get('qk:biz:eggs:done');\n            console.log(done, _this.egg);\n            if (done && parseInt(done) === _this.egg.id) {\n              _this.back();\n              return;\n            }\n            $storage.set('qk:biz:eggs:done', _this.egg.id);\n          } else {\n            _this.back();\n            return;\n          }\n        }\n\n        _this.doTimerAppStatus(_this.egg.bundle_id);\n      });\n    },\n    doTimerAppStatus: function doTimerAppStatus(bundleId) {\n      if (this.timerAppStatus || !bundleId) {\n        console.log('bundleId:', bundleId);\n        return;\n      }\n      this.timerAppStatus = setInterval(this.checkAppStatus, 1000, bundleId);\n    },\n    checkAppStatus: function checkAppStatus(bundleId) {\n      var _this2 = this;\n\n      $assistant.getAppInfo(bundleId).then(function (response) {\n        return response.data && response.data.payload;\n      }).then(function (payload) {\n        var resp = payload;\n\n        if (resp && resp.bundle_id) {\n          _this2.steps = [1, 1];\n        }\n      });\n    },\n    appstore: function appstore() {\n      location.href = this.egg.url;\n    },\n    stopTimerAppStatus: function stopTimerAppStatus() {\n      if (this.timerAppStatus) {\n        clearInterval(this.timerAppStatus);\n      }\n    },\n    checkReward: function checkReward() {\n      var _this3 = this;\n\n      if (this.steps[1] === 0) return false;\n      if (this.checkRewardLock) return false;\n      this.checkRewardLock = true;\n\n      $api.eggsDetail().then(function (response) {\n        var payload = response.data.payload;\n        var status = payload.status;\n\n        if (status === 1) {\n          $router.back('/tasks');\n          return;\n        } else if (status === 2) {\n          var template = '\\n              <div class=\"title text-center\">\\u4EFB\\u52A1\\u4E0B\\u8F7D\\u4E2D</div>\\n              <div class=\"desc text-center\">\\u4EFB\\u52A1\\u4E0B\\u8F7D\\b\\u5B8C\\u6210\\u540E\\u5373\\u53EF\\u9886\\u53D6\\u5956\\u52B1</div>\\n            ';\n          $popup.fromTemplate(template, {\n            effect: 'scale',\n            cssClass: 'popup-general',\n            buttons: [{ text: '知道了' }]\n          }).show();\n        } else {\n          var message = '任务已作废';\n\n          var _template = function _template(message) {\n            return '\\n                <div class=\"desc text-center\">' + message + '</div>\\n              ';\n          };\n\n          $popup.fromTemplate(_template(message), {\n            effect: 'scale',\n            cssClass: 'popup-general',\n            buttons: [{ text: '返回任务列表' }]\n          }).show().then(function (btn) {\n            $router.forward('/tasks');\n          });\n          return;\n        }\n\n        $assistant.updateState();\n      });\n\n      setTimeout(function () {\n        _this3.checkRewardLock = false;\n      }, 600);\n    },\n    getReward: function getReward() {\n      this.isAssistantAlive(this.checkReward);\n    },\n    back: function back() {\n      $router.back({ path: '/tasks' });\n    },\n    backAndGiveUp: function backAndGiveUp() {\n      var _this4 = this;\n\n      var popup = $popup.fromTemplate(__WEBPACK_IMPORTED_MODULE_0__popups_js__[\"popupGiveUpTask\"].template, __WEBPACK_IMPORTED_MODULE_0__popups_js__[\"popupGiveUpTask\"].options);\n      popup.show().then(function (btn) {\n        if (btn === 0) {\n          $api.eggsGiveup(_this4.egg.id).then(function () {\n            _this4.back();\n          });\n        } else if (btn === 1) {}\n      });\n    },\n    isAssistantAlive: function isAssistantAlive(fn) {\n      $assistant.alive().then(function () {\n        fn();\n      }, function () {\n        $assistant.makePopup().then(function (popup) {\n          return popup.show();\n        });\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 603:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(360)();\n// imports\n\n\n// module\nexports.push([module.i, \"/* thin border */\\n.qk-eggs-detail .task-reward[data-v-7370096c] {\\n  padding-top: 20px;\\n  height: 131px;\\n  background-color: #fff;\\n  -webkit-align-content: center;\\n      -ms-flex-line-pack: center;\\n          align-content: center;\\n  text-align: center;\\n}\\n.qk-eggs-detail .task-reward .title[data-v-7370096c] {\\n    height: 22px;\\n    line-height: 22px;\\n    font-size: 16px;\\n    color: #484746;\\n    margin-bottom: 8px;\\n}\\n.qk-eggs-detail .task-reward .reward[data-v-7370096c] {\\n    height: 32px;\\n    float: right;\\n    position: relative !important;\\n    right: 50%;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner[data-v-7370096c] {\\n      position: relative !important;\\n      right: -50%;\\n      float: right;\\n      color: #EA5A49;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .num[data-v-7370096c] {\\n        font-size: 32px;\\n        line-height: 32px;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .num .tilde[data-v-7370096c] {\\n          font-size: 48px;\\n          vertical-align: top;\\n          display: block;\\n          float: left;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .num .amount[data-v-7370096c] {\\n          display: block;\\n          float: left;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .yuan[data-v-7370096c] {\\n        font-family: PingFangSC-Regular;\\n        font-size: 11px;\\n        color: #EA5A49;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .tips[data-v-7370096c] {\\n        position: absolute;\\n        right: -35px;\\n        top: 0;\\n        display: inline-block;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .tips img[data-v-7370096c] {\\n          width: 34px;\\n          height: 17px;\\n}\\n.qk-eggs-detail .task-reward .timer[data-v-7370096c] {\\n    color: #888888;\\n    margin-top: 10px;\\n    letter-spacing: 0;\\n    position: relative;\\n    float: right;\\n    right: 50%;\\n}\\n.qk-eggs-detail .task-reward .timer .timer-inner[data-v-7370096c] {\\n      position: relative;\\n      height: 21px;\\n      line-height: 21px;\\n      float: right;\\n      right: -50%;\\n      background-color: #F5F5F5;\\n      font-size: 12px;\\n      padding: 0 8px;\\n      border-radius: 50px;\\n}\\n.qk-eggs-detail .task-reward .clearfix[data-v-7370096c] {\\n    clear: both;\\n}\\n.qk-eggs-detail .task-detail[data-v-7370096c] {\\n  padding-top: 30px;\\n  height: 163px;\\n  background-color: #fff;\\n  text-align: center;\\n}\\n.qk-eggs-detail .task-detail .app-icon[data-v-7370096c] {\\n    position: relative;\\n    top: -140px;\\n    z-index: 123;\\n    margin: 0 auto;\\n    width: 108px;\\n    height: 108px;\\n    border: 1px rgba(255, 255, 255, 0.5) solid;\\n    border-radius: 8px;\\n    -webkit-transform: scale(0.5);\\n}\\n.qk-eggs-detail .task-detail .app-icon img[data-v-7370096c] {\\n      width: 100%;\\n      height: 100%;\\n      border-radius: 8px;\\n}\\n.qk-eggs-detail .task-detail .task-name[data-v-7370096c] {\\n    margin-top: 64px;\\n    height: 22px;\\n    max-width: 90%;\\n    margin-left: auto;\\n    margin-right: auto;\\n    display: block;\\n    line-height: 22px;\\n    font-size: 16px;\\n    color: #484746;\\n}\\n.qk-eggs-detail .task-detail .task-desc[data-v-7370096c] {\\n    margin-top: 10px;\\n    height: 17px;\\n    font-size: 12px;\\n    color: #B5B5B5;\\n    line-height: 17px;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n}\\n.qk-eggs-detail .buttons[data-v-7370096c] {\\n  width: 175px;\\n  margin: 30px auto;\\n}\\n.qk-eggs-detail .buttons .btn-appstore[data-v-7370096c] {\\n    border-radius: 2px !important;\\n    width: 175px;\\n    font-size: 14px;\\n    color: #FFFFFF;\\n    background: #EA5A49;\\n    font-family: \\\"PingFangSC-Regular\\\", \\\"-apple-system\\\", \\\"Helvetica Neue\\\", \\\"Roboto\\\", \\\"Segoe UI\\\", sans-serif;\\n    font-weight: 400;\\n}\\n.qk-eggs-detail .buttons .btn-appstore.disabled[data-v-7370096c] {\\n      opacity: 1;\\n      background: #DDDDDD;\\n      font-size: 14px;\\n      color: #FFFFFF;\\n}\\n.qk-eggs-detail .bottom-text[data-v-7370096c] {\\n  height: 44px;\\n  font-size: 12px;\\n  color: #B5B5B5;\\n  line-height: 22px;\\n  text-align: center;\\n  font-family: PingFangSC-Regular;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/wumin/diablo/src/components/eggs/Detail.vue\"],\"names\":[],\"mappings\":\"AAAA,iBAAiB;AACjB;EACE,kBAAkB;EAClB,cAAc;EACd,uBAAuB;EACvB,8BAA8B;MAC1B,2BAA2B;UACvB,sBAAsB;EAC9B,mBAAmB;CACpB;AACD;IACI,aAAa;IACb,kBAAkB;IAClB,gBAAgB;IAChB,eAAe;IACf,mBAAmB;CACtB;AACD;IACI,aAAa;IACb,aAAa;IACb,8BAA8B;IAC9B,WAAW;CACd;AACD;MACM,8BAA8B;MAC9B,YAAY;MACZ,aAAa;MACb,eAAe;CACpB;AACD;QACQ,gBAAgB;QAChB,kBAAkB;CACzB;AACD;UACU,gBAAgB;UAChB,oBAAoB;UACpB,eAAe;UACf,YAAY;CACrB;AACD;UACU,eAAe;UACf,YAAY;CACrB;AACD;QACQ,gCAAgC;QAChC,gBAAgB;QAChB,eAAe;CACtB;AACD;QACQ,mBAAmB;QACnB,aAAa;QACb,OAAO;QACP,sBAAsB;CAC7B;AACD;UACU,YAAY;UACZ,aAAa;CACtB;AACD;IACI,eAAe;IACf,iBAAiB;IACjB,kBAAkB;IAClB,mBAAmB;IACnB,aAAa;IACb,WAAW;CACd;AACD;MACM,mBAAmB;MACnB,aAAa;MACb,kBAAkB;MAClB,aAAa;MACb,YAAY;MACZ,0BAA0B;MAC1B,gBAAgB;MAChB,eAAe;MACf,oBAAoB;CACzB;AACD;IACI,YAAY;CACf;AACD;EACE,kBAAkB;EAClB,cAAc;EACd,uBAAuB;EACvB,mBAAmB;CACpB;AACD;IACI,mBAAmB;IACnB,YAAY;IACZ,aAAa;IACb,eAAe;IACf,aAAa;IACb,cAAc;IACd,2CAA2C;IAC3C,mBAAmB;IACnB,8BAA8B;CACjC;AACD;MACM,YAAY;MACZ,aAAa;MACb,mBAAmB;CACxB;AACD;IACI,iBAAiB;IACjB,aAAa;IACb,eAAe;IACf,kBAAkB;IAClB,mBAAmB;IACnB,eAAe;IACf,kBAAkB;IAClB,gBAAgB;IAChB,eAAe;CAClB;AACD;IACI,iBAAiB;IACjB,aAAa;IACb,gBAAgB;IAChB,eAAe;IACf,kBAAkB;IAClB,iBAAiB;IACjB,wBAAwB;CAC3B;AACD;EACE,aAAa;EACb,kBAAkB;CACnB;AACD;IACI,8BAA8B;IAC9B,aAAa;IACb,gBAAgB;IAChB,eAAe;IACf,oBAAoB;IACpB,uGAAuG;IACvG,iBAAiB;CACpB;AACD;MACM,WAAW;MACX,oBAAoB;MACpB,gBAAgB;MAChB,eAAe;CACpB;AACD;EACE,aAAa;EACb,gBAAgB;EAChB,eAAe;EACf,kBAAkB;EAClB,mBAAmB;EACnB,gCAAgC;CACjC\",\"file\":\"Detail.vue\",\"sourcesContent\":[\"/* thin border */\\n.qk-eggs-detail .task-reward[data-v-7370096c] {\\n  padding-top: 20px;\\n  height: 131px;\\n  background-color: #fff;\\n  -webkit-align-content: center;\\n      -ms-flex-line-pack: center;\\n          align-content: center;\\n  text-align: center;\\n}\\n.qk-eggs-detail .task-reward .title[data-v-7370096c] {\\n    height: 22px;\\n    line-height: 22px;\\n    font-size: 16px;\\n    color: #484746;\\n    margin-bottom: 8px;\\n}\\n.qk-eggs-detail .task-reward .reward[data-v-7370096c] {\\n    height: 32px;\\n    float: right;\\n    position: relative !important;\\n    right: 50%;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner[data-v-7370096c] {\\n      position: relative !important;\\n      right: -50%;\\n      float: right;\\n      color: #EA5A49;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .num[data-v-7370096c] {\\n        font-size: 32px;\\n        line-height: 32px;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .num .tilde[data-v-7370096c] {\\n          font-size: 48px;\\n          vertical-align: top;\\n          display: block;\\n          float: left;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .num .amount[data-v-7370096c] {\\n          display: block;\\n          float: left;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .yuan[data-v-7370096c] {\\n        font-family: PingFangSC-Regular;\\n        font-size: 11px;\\n        color: #EA5A49;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .tips[data-v-7370096c] {\\n        position: absolute;\\n        right: -35px;\\n        top: 0;\\n        display: inline-block;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .tips img[data-v-7370096c] {\\n          width: 34px;\\n          height: 17px;\\n}\\n.qk-eggs-detail .task-reward .timer[data-v-7370096c] {\\n    color: #888888;\\n    margin-top: 10px;\\n    letter-spacing: 0;\\n    position: relative;\\n    float: right;\\n    right: 50%;\\n}\\n.qk-eggs-detail .task-reward .timer .timer-inner[data-v-7370096c] {\\n      position: relative;\\n      height: 21px;\\n      line-height: 21px;\\n      float: right;\\n      right: -50%;\\n      background-color: #F5F5F5;\\n      font-size: 12px;\\n      padding: 0 8px;\\n      border-radius: 50px;\\n}\\n.qk-eggs-detail .task-reward .clearfix[data-v-7370096c] {\\n    clear: both;\\n}\\n.qk-eggs-detail .task-detail[data-v-7370096c] {\\n  padding-top: 30px;\\n  height: 163px;\\n  background-color: #fff;\\n  text-align: center;\\n}\\n.qk-eggs-detail .task-detail .app-icon[data-v-7370096c] {\\n    position: relative;\\n    top: -140px;\\n    z-index: 123;\\n    margin: 0 auto;\\n    width: 108px;\\n    height: 108px;\\n    border: 1px rgba(255, 255, 255, 0.5) solid;\\n    border-radius: 8px;\\n    -webkit-transform: scale(0.5);\\n}\\n.qk-eggs-detail .task-detail .app-icon img[data-v-7370096c] {\\n      width: 100%;\\n      height: 100%;\\n      border-radius: 8px;\\n}\\n.qk-eggs-detail .task-detail .task-name[data-v-7370096c] {\\n    margin-top: 64px;\\n    height: 22px;\\n    max-width: 90%;\\n    margin-left: auto;\\n    margin-right: auto;\\n    display: block;\\n    line-height: 22px;\\n    font-size: 16px;\\n    color: #484746;\\n}\\n.qk-eggs-detail .task-detail .task-desc[data-v-7370096c] {\\n    margin-top: 10px;\\n    height: 17px;\\n    font-size: 12px;\\n    color: #B5B5B5;\\n    line-height: 17px;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n}\\n.qk-eggs-detail .buttons[data-v-7370096c] {\\n  width: 175px;\\n  margin: 30px auto;\\n}\\n.qk-eggs-detail .buttons .btn-appstore[data-v-7370096c] {\\n    border-radius: 2px !important;\\n    width: 175px;\\n    font-size: 14px;\\n    color: #FFFFFF;\\n    background: #EA5A49;\\n    font-family: \\\"PingFangSC-Regular\\\", \\\"-apple-system\\\", \\\"Helvetica Neue\\\", \\\"Roboto\\\", \\\"Segoe UI\\\", sans-serif;\\n    font-weight: 400;\\n}\\n.qk-eggs-detail .buttons .btn-appstore.disabled[data-v-7370096c] {\\n      opacity: 1;\\n      background: #DDDDDD;\\n      font-size: 14px;\\n      color: #FFFFFF;\\n}\\n.qk-eggs-detail .bottom-text[data-v-7370096c] {\\n  height: 44px;\\n  font-size: 12px;\\n  color: #B5B5B5;\\n  line-height: 22px;\\n  text-align: center;\\n  font-family: PingFangSC-Regular;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 683:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(603);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(361)(\"79b6ae44\", content, true);\n\n/***/ }),\n\n/***/ 799:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        title: '彩蛋任务详情',\n        showBackButton: true,\n        onBackButtonClick: _vm.backAndGiveUp\n      }),\n      expression: \"{title: '彩蛋任务详情', showBackButton: true, onBackButtonClick: backAndGiveUp}\"\n    }],\n    staticClass: \"page has-navbar\"\n  }, [_c('div', {\n    staticClass: \"page-content qk-eggs-detail\"\n  }, [_c('scroller', {\n    ref: \"scroller\",\n    staticStyle: {\n      \"top\": \"44px\"\n    }\n  }, [_c('div', {\n    staticClass: \"task-reward\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"任务奖励\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"reward\"\n  }, [_c('div', {\n    staticClass: \"reward-inner\"\n  }, [_c('span', {\n    staticClass: \"num\"\n  }, [_c('span', {\n    staticClass: \"amount\"\n  }, [_vm._v(\"0\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"tilde\"\n  }, [_vm._v(\"~\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"amount\"\n  }, [_vm._v(\"10\")])]), _vm._v(\" \"), _c('span', {\n    staticClass: \"yuan\"\n  }, [_vm._v(\"元\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"tips\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": \"http://qianka.b0.upaiyun.com/images/6067986a8153129f952803af304d5497.png\",\n      \"alt\": \"\"\n    }\n  })])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"clearfix\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"timer\"\n  }, [(_vm.egg.deadline) ? _c('div', {\n    staticClass: \"timer-inner\"\n  }, [_vm._v(\"\\n            剩余时间 \"), _c('count-down', {\n    attrs: {\n      \"format\": \"mm:ss\",\n      \"deadline\": _vm.egg.deadline * 1000\n    }\n  })], 1) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"clearfix\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"height\": \"10px\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"task-detail\"\n  }, [_c('div', {\n    staticClass: \"task-name text-ellipsis\",\n    domProps: {\n      \"textContent\": _vm._s(_vm.egg.task_name)\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"task-desc\"\n  }, [_vm._v(\"下载应用获得奖励\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"app-icon\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": _vm.egg.icon\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"buttons\"\n  }, [_c('div', {\n    staticClass: \"button button-assertive btn-appstore\",\n    on: {\n      \"click\": function($event) {\n        _vm.appstore()\n      }\n    }\n  }, [_vm._v(\"\\n          立即下载\\n        \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"button button-assertive btn-appstore\",\n    class: {\n      'disabled': _vm.steps[1] == 0\n    },\n    staticStyle: {\n      \"margin-top\": \"15px\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.getReward()\n      }\n    }\n  }, [_vm._v(\"\\n          领取奖励\\n        \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"bottom-text\"\n  }, [_vm._v(\"\\n      仅幸运用户可领取本任务，每个任务皆是唯一的\\n      \")]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"height\": \"300px\"\n    }\n  })])], 1)])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// diablo/js/egg-detail.6ae6844cc31beb7c2ff9.js","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-7370096c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Detail.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Detail.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7370096c\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Detail.vue\"),\n  /* scopeId */\n  \"data-v-7370096c\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/eggs/Detail.vue\n// module id = 370\n// module chunks = 33","/* eslint eqeqeq: \"off\", camelcase: \"off\" */\n\n// 安装证书弹层\nconst popup_show_lucky_draw_prize = {\n  options: {\n    effect: 'scale',\n    cssClass: 'popup-task-reward',\n    buttons: [\n      {text: '很好，继续赚钱', theme: 'assertive'}\n    ]\n  },\n  template: function (options) {\n    let amount = options.amount || '0.0'\n    let taskName = options.taskName || ''\n\n    return `\n      <img class=\"img-lucky-draw-finished\" src=\"//qianka.b0.upaiyun.com/images/782d55e2f4df935349e07273c06a11f1.png\" alt=\"\">\n      <scalable class=\"reward\" height=\"62\">\n        <span class=\"rmb\">￥</span>\n        <span class=\"amount\">${parseFloat(amount)}</span>\n        <span class=\"yuan\">元</span>\n      </scalable>\n      <div class=\"task-info\">\n        <div class=\"line\"></div>\n        <div class=\"task-type\">彩蛋任务</div>\n        <div class=\"task-name\">${taskName}</div>\n      </div>\n    `\n  }\n}\n\n// 放弃彩蛋任务弹层\nconst popupGiveUpTask = {\n  options: {\n    effect: 'scale',\n    cssClass: 'popup-general',\n    buttons: [\n      { text: '放弃' },\n      { text: '不放弃' }\n    ]\n  },\n  template: '<div class=\"desc no-title\">确定要放弃当前任务？</div>'\n}\n\nmodule.exports = {\n  popup_show_lucky_draw_prize,\n  popupGiveUpTask\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/eggs/popups.js","<!-- 彩蛋任务详情 -->\n<template>\n  <div class=\"page has-navbar\" v-nav=\"{title: '彩蛋任务详情', showBackButton: true, onBackButtonClick: backAndGiveUp}\">\n    <div class=\"page-content qk-eggs-detail\">\n      <scroller ref=\"scroller\" style=\"top: 44px;\">\n        <!-- 任务奖励 -->\n        <div class=\"task-reward\">\n          <div class=\"title\">任务奖励</div>\n          <div class=\"reward\">\n            <div class=\"reward-inner\">\n              <span class=\"num\">\n                <span class=\"amount\">0</span>\n                <span class=\"tilde\">~</span>\n                <span class=\"amount\">10</span>\n              </span>\n              <span class=\"yuan\">元</span>\n              <span class=\"tips\">\n                <img src=\"http://qianka.b0.upaiyun.com/images/6067986a8153129f952803af304d5497.png\" alt=\"\">\n              </span>\n            </div>\n          </div>\n          <div class=\"clearfix\"></div>\n          <div class=\"timer\">\n            <div class=\"timer-inner\" v-if=\"egg.deadline\">\n              剩余时间 <count-down format=\"mm:ss\" :deadline=\"egg.deadline * 1000\"></count-down>\n            </div>\n          </div>\n          <div class=\"clearfix\"></div>\n        </div>\n\n        <div style=\"height: 10px;\"></div>\n\n        <div class=\"task-detail\">\n          <div class=\"task-name text-ellipsis\" v-text=\"egg.task_name\"></div>\n          <div class=\"task-desc\">下载应用获得奖励</div>\n          <div class=\"app-icon\">\n            <img :src=\"egg.icon\" />\n          </div>\n\n        </div>\n\n        <div class=\"buttons\">\n          <div class=\"button button-assertive btn-appstore\" @click=\"appstore()\">\n            立即下载\n          </div>\n\n          <div style=\"margin-top:15px;\" class=\"button button-assertive btn-appstore\" :class=\"{'disabled': steps[1] == 0}\" @click=\"getReward()\">\n            领取奖励\n          </div>\n        </div>\n\n        <div class=\"bottom-text\">\n        仅幸运用户可领取本任务，每个任务皆是唯一的\n        </div>\n\n        <div style=\"height: 300px;\"></div>\n      </scroller>\n    </div>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n  @import \"../../scss/mixins\";\n\n  .qk-eggs-detail {\n    .task-reward {\n      padding-top: 20px;\n      height: 131px;\n      background-color: #fff;\n      align-content: center;\n      text-align: center;\n\n      .title {\n        height: 22px;\n        line-height: 22px;\n        font-size: 16px;\n        color: #484746;\n        margin-bottom: 8px;\n      }\n\n      .reward {\n        height: 32px;\n        float: right;\n        position: relative !important;\n        right: 50%;\n\n        .reward-inner {\n          position: relative !important;\n          right: -50%;\n          float: right;\n          color: #EA5A49;\n\n          .num {\n            font-size: 32px;\n            line-height: 32px;\n\n            .tilde {\n              font-size: 48px;\n              vertical-align: top;\n              display: block;\n              float: left;\n            }\n\n            .amount {\n              display: block;\n              float: left;\n            }\n          }\n\n          .yuan {\n            font-family: PingFangSC-Regular;\n            font-size: 11px;\n            color: #EA5A49;\n          }\n\n          .tips {\n            position: absolute;\n            right: -35px;\n            top: 0;\n            display: inline-block;\n\n            img {\n              width: 34px;\n              height: 17px;\n            }\n          }\n        }\n      }\n\n      .timer {\n        color: #888888;\n        margin-top: 10px;\n        letter-spacing: 0;\n        position: relative;\n        float: right;\n        right: 50%;\n\n        .timer-inner {\n          position: relative;\n          height: 21px;\n          line-height: 21px;\n          float: right;\n          right: -50%;\n          background-color: #F5F5F5;\n          font-size: 12px;\n          padding: 0 8px;\n          border-radius: 50px;\n        }\n      }\n\n      .clearfix {\n        clear: both;\n      }\n    }\n\n    .task-detail {\n      padding-top: 30px;\n      height: 163px;\n      background-color: #fff;\n      text-align: center;\n\n      .app-icon {\n        position: relative;\n        top: -140px;\n        z-index: 123;\n        margin: 0 auto;\n        width: 108px;\n        height: 108px;\n        border: 1px rgba(255, 255, 255, 0.5) solid;\n        border-radius: 8px;\n        -webkit-transform: scale(0.5);\n\n        img {\n          width: 100%;\n          height: 100%;\n          border-radius: 8px;\n        }\n      }\n\n      .task-name {\n        margin-top: 64px;\n        height: 22px;\n        max-width: 90%;\n        margin-left: auto;\n        margin-right: auto;\n        display: block;\n        line-height: 22px;\n        font-size: 16px;\n        color: #484746;\n      }\n\n      .task-desc {\n        margin-top: 10px;\n        height: 17px;\n        font-size: 12px;\n        color: #B5B5B5;\n        line-height: 17px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n    }\n\n    .buttons {\n      width: 175px;\n      margin: 30px auto;\n\n      .btn-appstore {\n        border-radius: 2px !important;\n        width: 175px;\n        font-size: 14px;\n        color: #FFFFFF;\n        background: #EA5A49;\n\n        @include font-regular();\n\n        &.disabled {\n          opacity: 1;\n          background: #DDDDDD;\n          font-size: 14px;\n          color: #FFFFFF;\n        }\n      }\n    }\n\n    .bottom-text {\n      height: 44px;\n      font-size: 12px;\n      color: #B5B5B5;\n      line-height: 22px;\n      text-align: center;\n      font-family: PingFangSC-Regular;\n    }\n  }\n</style>\n<script>\n// staus 1 完成 2 进行中 0 无效\n\nimport {\n  popupGiveUpTask\n} from './popups.js'\nimport CountDown from '../widget/CountDown'\n\nexport default {\n  components: {\n    CountDown\n  },\n  data () {\n    return {\n      egg: {\n        id: 0,\n        task_name: '',\n        url: '',\n        deadline: 0,\n        icon: '',\n        bundle_id: '',\n        status: 0\n      },\n      checkRewardLock: false,\n      steps: [1, 0]\n    }\n  },\n  mounted () {\n    this.isAssistantAlive(this.loadData)\n  },\n  destroyed () {\n    this.stopTimerAppStatus()\n  },\n  methods: {\n    loadData () {\n      $api.eggsDetail()\n        .then(res => res.data && res.data.payload)\n        .then((payload) => {\n          this.egg = payload\n          let status = this.egg.status\n          if (status !== 2) {\n            this.egg.status = status\n            if (status === 1) {\n              let done = $storage.get('qk:biz:eggs:done')\n              console.log(done, this.egg)\n              if (done && parseInt(done) === this.egg.id) {\n                this.back()\n                return\n              }\n              $storage.set('qk:biz:eggs:done', this.egg.id)\n            } else {\n              this.back()\n              return\n            }\n          }\n          // 下载轮询app有没有安装\n          this.doTimerAppStatus(this.egg.bundle_id)\n        })\n    },\n    doTimerAppStatus (bundleId) {\n      if (this.timerAppStatus || !bundleId) {\n        console.log('bundleId:', bundleId)\n        return\n      }\n      this.timerAppStatus = setInterval(this.checkAppStatus, 1000, bundleId)\n    },\n    checkAppStatus (bundleId) {\n      // 检查应用是不是已经安装\n      $assistant.getAppInfo(bundleId)\n        .then(response => response.data && response.data.payload)\n        .then((payload) => {\n          let resp = payload\n          // 已经下载\n          if (resp && resp.bundle_id) {\n            // 发送keyupstatus通知\n            this.steps = [1, 1]\n          }\n        })\n    },\n    appstore () {\n      location.href = this.egg.url\n    },\n    stopTimerAppStatus () {\n      if (this.timerAppStatus) {\n        clearInterval(this.timerAppStatus)\n      }\n    },\n    checkReward () {\n      if (this.steps[1] === 0) return false\n      if (this.checkRewardLock) return false\n      this.checkRewardLock = true\n\n      $api.eggsDetail()\n        .then((response) => {\n          let payload = response.data.payload\n          let status = payload.status\n\n          if (status === 1) {\n            $router.back('/tasks')\n            return\n          } else if (status === 2) { // 任务进行中\n            let template = `\n              <div class=\"title text-center\">任务下载中</div>\n              <div class=\"desc text-center\">任务下载\b完成后即可领取奖励</div>\n            `\n            $popup\n              .fromTemplate(template, {\n                effect: 'scale',\n                cssClass: 'popup-general',\n                buttons: [{ text: '知道了' }]\n              })\n              .show()\n          } else {\n            let message = '任务已作废'\n\n            let template = (message) => {\n              return `\n                <div class=\"desc text-center\">${message}</div>\n              `\n            }\n\n            $popup\n              .fromTemplate(template(message), {\n                effect: 'scale',\n                cssClass: 'popup-general',\n                buttons: [{ text: '返回任务列表' }]\n              })\n              .show()\n              .then(btn => {\n                $router.forward('/tasks')\n              })\n            return\n          }\n\n          // 发送keyupstatus通知\n          $assistant.updateState()\n        })\n\n      setTimeout(() => {\n        this.checkRewardLock = false\n      }, 600)\n    },\n    getReward () {\n      this.isAssistantAlive(this.checkReward)\n    },\n    back () {\n      $router.back({path: '/tasks'})\n    },\n    backAndGiveUp () {\n      let popup = $popup.fromTemplate(popupGiveUpTask.template, popupGiveUpTask.options)\n      popup.show().then((btn) => {\n        if (btn === 0) { // 放弃任务\n          $api.eggsGiveup(this.egg.id).then(() => {\n            this.back()\n          })\n        } else if (btn === 1) { // 取消\n        }\n      })\n    },\n\n    isAssistantAlive (fn) {\n      $assistant\n        .alive()\n        .then(() => {\n          fn()\n        }, () => {\n          $assistant.makePopup().then(popup => popup.show())\n        })\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Detail.vue?5cbd9c96","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* thin border */\\n.qk-eggs-detail .task-reward[data-v-7370096c] {\\n  padding-top: 20px;\\n  height: 131px;\\n  background-color: #fff;\\n  -webkit-align-content: center;\\n      -ms-flex-line-pack: center;\\n          align-content: center;\\n  text-align: center;\\n}\\n.qk-eggs-detail .task-reward .title[data-v-7370096c] {\\n    height: 22px;\\n    line-height: 22px;\\n    font-size: 16px;\\n    color: #484746;\\n    margin-bottom: 8px;\\n}\\n.qk-eggs-detail .task-reward .reward[data-v-7370096c] {\\n    height: 32px;\\n    float: right;\\n    position: relative !important;\\n    right: 50%;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner[data-v-7370096c] {\\n      position: relative !important;\\n      right: -50%;\\n      float: right;\\n      color: #EA5A49;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .num[data-v-7370096c] {\\n        font-size: 32px;\\n        line-height: 32px;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .num .tilde[data-v-7370096c] {\\n          font-size: 48px;\\n          vertical-align: top;\\n          display: block;\\n          float: left;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .num .amount[data-v-7370096c] {\\n          display: block;\\n          float: left;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .yuan[data-v-7370096c] {\\n        font-family: PingFangSC-Regular;\\n        font-size: 11px;\\n        color: #EA5A49;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .tips[data-v-7370096c] {\\n        position: absolute;\\n        right: -35px;\\n        top: 0;\\n        display: inline-block;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .tips img[data-v-7370096c] {\\n          width: 34px;\\n          height: 17px;\\n}\\n.qk-eggs-detail .task-reward .timer[data-v-7370096c] {\\n    color: #888888;\\n    margin-top: 10px;\\n    letter-spacing: 0;\\n    position: relative;\\n    float: right;\\n    right: 50%;\\n}\\n.qk-eggs-detail .task-reward .timer .timer-inner[data-v-7370096c] {\\n      position: relative;\\n      height: 21px;\\n      line-height: 21px;\\n      float: right;\\n      right: -50%;\\n      background-color: #F5F5F5;\\n      font-size: 12px;\\n      padding: 0 8px;\\n      border-radius: 50px;\\n}\\n.qk-eggs-detail .task-reward .clearfix[data-v-7370096c] {\\n    clear: both;\\n}\\n.qk-eggs-detail .task-detail[data-v-7370096c] {\\n  padding-top: 30px;\\n  height: 163px;\\n  background-color: #fff;\\n  text-align: center;\\n}\\n.qk-eggs-detail .task-detail .app-icon[data-v-7370096c] {\\n    position: relative;\\n    top: -140px;\\n    z-index: 123;\\n    margin: 0 auto;\\n    width: 108px;\\n    height: 108px;\\n    border: 1px rgba(255, 255, 255, 0.5) solid;\\n    border-radius: 8px;\\n    -webkit-transform: scale(0.5);\\n}\\n.qk-eggs-detail .task-detail .app-icon img[data-v-7370096c] {\\n      width: 100%;\\n      height: 100%;\\n      border-radius: 8px;\\n}\\n.qk-eggs-detail .task-detail .task-name[data-v-7370096c] {\\n    margin-top: 64px;\\n    height: 22px;\\n    max-width: 90%;\\n    margin-left: auto;\\n    margin-right: auto;\\n    display: block;\\n    line-height: 22px;\\n    font-size: 16px;\\n    color: #484746;\\n}\\n.qk-eggs-detail .task-detail .task-desc[data-v-7370096c] {\\n    margin-top: 10px;\\n    height: 17px;\\n    font-size: 12px;\\n    color: #B5B5B5;\\n    line-height: 17px;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n}\\n.qk-eggs-detail .buttons[data-v-7370096c] {\\n  width: 175px;\\n  margin: 30px auto;\\n}\\n.qk-eggs-detail .buttons .btn-appstore[data-v-7370096c] {\\n    border-radius: 2px !important;\\n    width: 175px;\\n    font-size: 14px;\\n    color: #FFFFFF;\\n    background: #EA5A49;\\n    font-family: \\\"PingFangSC-Regular\\\", \\\"-apple-system\\\", \\\"Helvetica Neue\\\", \\\"Roboto\\\", \\\"Segoe UI\\\", sans-serif;\\n    font-weight: 400;\\n}\\n.qk-eggs-detail .buttons .btn-appstore.disabled[data-v-7370096c] {\\n      opacity: 1;\\n      background: #DDDDDD;\\n      font-size: 14px;\\n      color: #FFFFFF;\\n}\\n.qk-eggs-detail .bottom-text[data-v-7370096c] {\\n  height: 44px;\\n  font-size: 12px;\\n  color: #B5B5B5;\\n  line-height: 22px;\\n  text-align: center;\\n  font-family: PingFangSC-Regular;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/wumin/diablo/src/components/eggs/Detail.vue\"],\"names\":[],\"mappings\":\"AAAA,iBAAiB;AACjB;EACE,kBAAkB;EAClB,cAAc;EACd,uBAAuB;EACvB,8BAA8B;MAC1B,2BAA2B;UACvB,sBAAsB;EAC9B,mBAAmB;CACpB;AACD;IACI,aAAa;IACb,kBAAkB;IAClB,gBAAgB;IAChB,eAAe;IACf,mBAAmB;CACtB;AACD;IACI,aAAa;IACb,aAAa;IACb,8BAA8B;IAC9B,WAAW;CACd;AACD;MACM,8BAA8B;MAC9B,YAAY;MACZ,aAAa;MACb,eAAe;CACpB;AACD;QACQ,gBAAgB;QAChB,kBAAkB;CACzB;AACD;UACU,gBAAgB;UAChB,oBAAoB;UACpB,eAAe;UACf,YAAY;CACrB;AACD;UACU,eAAe;UACf,YAAY;CACrB;AACD;QACQ,gCAAgC;QAChC,gBAAgB;QAChB,eAAe;CACtB;AACD;QACQ,mBAAmB;QACnB,aAAa;QACb,OAAO;QACP,sBAAsB;CAC7B;AACD;UACU,YAAY;UACZ,aAAa;CACtB;AACD;IACI,eAAe;IACf,iBAAiB;IACjB,kBAAkB;IAClB,mBAAmB;IACnB,aAAa;IACb,WAAW;CACd;AACD;MACM,mBAAmB;MACnB,aAAa;MACb,kBAAkB;MAClB,aAAa;MACb,YAAY;MACZ,0BAA0B;MAC1B,gBAAgB;MAChB,eAAe;MACf,oBAAoB;CACzB;AACD;IACI,YAAY;CACf;AACD;EACE,kBAAkB;EAClB,cAAc;EACd,uBAAuB;EACvB,mBAAmB;CACpB;AACD;IACI,mBAAmB;IACnB,YAAY;IACZ,aAAa;IACb,eAAe;IACf,aAAa;IACb,cAAc;IACd,2CAA2C;IAC3C,mBAAmB;IACnB,8BAA8B;CACjC;AACD;MACM,YAAY;MACZ,aAAa;MACb,mBAAmB;CACxB;AACD;IACI,iBAAiB;IACjB,aAAa;IACb,eAAe;IACf,kBAAkB;IAClB,mBAAmB;IACnB,eAAe;IACf,kBAAkB;IAClB,gBAAgB;IAChB,eAAe;CAClB;AACD;IACI,iBAAiB;IACjB,aAAa;IACb,gBAAgB;IAChB,eAAe;IACf,kBAAkB;IAClB,iBAAiB;IACjB,wBAAwB;CAC3B;AACD;EACE,aAAa;EACb,kBAAkB;CACnB;AACD;IACI,8BAA8B;IAC9B,aAAa;IACb,gBAAgB;IAChB,eAAe;IACf,oBAAoB;IACpB,uGAAuG;IACvG,iBAAiB;CACpB;AACD;MACM,WAAW;MACX,oBAAoB;MACpB,gBAAgB;MAChB,eAAe;CACpB;AACD;EACE,aAAa;EACb,gBAAgB;EAChB,eAAe;EACf,kBAAkB;EAClB,mBAAmB;EACnB,gCAAgC;CACjC\",\"file\":\"Detail.vue\",\"sourcesContent\":[\"/* thin border */\\n.qk-eggs-detail .task-reward[data-v-7370096c] {\\n  padding-top: 20px;\\n  height: 131px;\\n  background-color: #fff;\\n  -webkit-align-content: center;\\n      -ms-flex-line-pack: center;\\n          align-content: center;\\n  text-align: center;\\n}\\n.qk-eggs-detail .task-reward .title[data-v-7370096c] {\\n    height: 22px;\\n    line-height: 22px;\\n    font-size: 16px;\\n    color: #484746;\\n    margin-bottom: 8px;\\n}\\n.qk-eggs-detail .task-reward .reward[data-v-7370096c] {\\n    height: 32px;\\n    float: right;\\n    position: relative !important;\\n    right: 50%;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner[data-v-7370096c] {\\n      position: relative !important;\\n      right: -50%;\\n      float: right;\\n      color: #EA5A49;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .num[data-v-7370096c] {\\n        font-size: 32px;\\n        line-height: 32px;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .num .tilde[data-v-7370096c] {\\n          font-size: 48px;\\n          vertical-align: top;\\n          display: block;\\n          float: left;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .num .amount[data-v-7370096c] {\\n          display: block;\\n          float: left;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .yuan[data-v-7370096c] {\\n        font-family: PingFangSC-Regular;\\n        font-size: 11px;\\n        color: #EA5A49;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .tips[data-v-7370096c] {\\n        position: absolute;\\n        right: -35px;\\n        top: 0;\\n        display: inline-block;\\n}\\n.qk-eggs-detail .task-reward .reward .reward-inner .tips img[data-v-7370096c] {\\n          width: 34px;\\n          height: 17px;\\n}\\n.qk-eggs-detail .task-reward .timer[data-v-7370096c] {\\n    color: #888888;\\n    margin-top: 10px;\\n    letter-spacing: 0;\\n    position: relative;\\n    float: right;\\n    right: 50%;\\n}\\n.qk-eggs-detail .task-reward .timer .timer-inner[data-v-7370096c] {\\n      position: relative;\\n      height: 21px;\\n      line-height: 21px;\\n      float: right;\\n      right: -50%;\\n      background-color: #F5F5F5;\\n      font-size: 12px;\\n      padding: 0 8px;\\n      border-radius: 50px;\\n}\\n.qk-eggs-detail .task-reward .clearfix[data-v-7370096c] {\\n    clear: both;\\n}\\n.qk-eggs-detail .task-detail[data-v-7370096c] {\\n  padding-top: 30px;\\n  height: 163px;\\n  background-color: #fff;\\n  text-align: center;\\n}\\n.qk-eggs-detail .task-detail .app-icon[data-v-7370096c] {\\n    position: relative;\\n    top: -140px;\\n    z-index: 123;\\n    margin: 0 auto;\\n    width: 108px;\\n    height: 108px;\\n    border: 1px rgba(255, 255, 255, 0.5) solid;\\n    border-radius: 8px;\\n    -webkit-transform: scale(0.5);\\n}\\n.qk-eggs-detail .task-detail .app-icon img[data-v-7370096c] {\\n      width: 100%;\\n      height: 100%;\\n      border-radius: 8px;\\n}\\n.qk-eggs-detail .task-detail .task-name[data-v-7370096c] {\\n    margin-top: 64px;\\n    height: 22px;\\n    max-width: 90%;\\n    margin-left: auto;\\n    margin-right: auto;\\n    display: block;\\n    line-height: 22px;\\n    font-size: 16px;\\n    color: #484746;\\n}\\n.qk-eggs-detail .task-detail .task-desc[data-v-7370096c] {\\n    margin-top: 10px;\\n    height: 17px;\\n    font-size: 12px;\\n    color: #B5B5B5;\\n    line-height: 17px;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n}\\n.qk-eggs-detail .buttons[data-v-7370096c] {\\n  width: 175px;\\n  margin: 30px auto;\\n}\\n.qk-eggs-detail .buttons .btn-appstore[data-v-7370096c] {\\n    border-radius: 2px !important;\\n    width: 175px;\\n    font-size: 14px;\\n    color: #FFFFFF;\\n    background: #EA5A49;\\n    font-family: \\\"PingFangSC-Regular\\\", \\\"-apple-system\\\", \\\"Helvetica Neue\\\", \\\"Roboto\\\", \\\"Segoe UI\\\", sans-serif;\\n    font-weight: 400;\\n}\\n.qk-eggs-detail .buttons .btn-appstore.disabled[data-v-7370096c] {\\n      opacity: 1;\\n      background: #DDDDDD;\\n      font-size: 14px;\\n      color: #FFFFFF;\\n}\\n.qk-eggs-detail .bottom-text[data-v-7370096c] {\\n  height: 44px;\\n  font-size: 12px;\\n  color: #B5B5B5;\\n  line-height: 22px;\\n  text-align: center;\\n  font-family: PingFangSC-Regular;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-7370096c\",\"scoped\":true,\"hasInlineConfig\":true}!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/eggs/Detail.vue\n// module id = 603\n// module chunks = 33","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-7370096c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/sass-loader/lib/loader.js?sourceMap!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Detail.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"79b6ae44\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-7370096c\",\"scoped\":true,\"hasInlineConfig\":true}!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/eggs/Detail.vue\n// module id = 683\n// module chunks = 33","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        title: '彩蛋任务详情',\n        showBackButton: true,\n        onBackButtonClick: _vm.backAndGiveUp\n      }),\n      expression: \"{title: '彩蛋任务详情', showBackButton: true, onBackButtonClick: backAndGiveUp}\"\n    }],\n    staticClass: \"page has-navbar\"\n  }, [_c('div', {\n    staticClass: \"page-content qk-eggs-detail\"\n  }, [_c('scroller', {\n    ref: \"scroller\",\n    staticStyle: {\n      \"top\": \"44px\"\n    }\n  }, [_c('div', {\n    staticClass: \"task-reward\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"任务奖励\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"reward\"\n  }, [_c('div', {\n    staticClass: \"reward-inner\"\n  }, [_c('span', {\n    staticClass: \"num\"\n  }, [_c('span', {\n    staticClass: \"amount\"\n  }, [_vm._v(\"0\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"tilde\"\n  }, [_vm._v(\"~\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"amount\"\n  }, [_vm._v(\"10\")])]), _vm._v(\" \"), _c('span', {\n    staticClass: \"yuan\"\n  }, [_vm._v(\"元\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"tips\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": \"http://qianka.b0.upaiyun.com/images/6067986a8153129f952803af304d5497.png\",\n      \"alt\": \"\"\n    }\n  })])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"clearfix\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"timer\"\n  }, [(_vm.egg.deadline) ? _c('div', {\n    staticClass: \"timer-inner\"\n  }, [_vm._v(\"\\n            剩余时间 \"), _c('count-down', {\n    attrs: {\n      \"format\": \"mm:ss\",\n      \"deadline\": _vm.egg.deadline * 1000\n    }\n  })], 1) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"clearfix\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"height\": \"10px\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"task-detail\"\n  }, [_c('div', {\n    staticClass: \"task-name text-ellipsis\",\n    domProps: {\n      \"textContent\": _vm._s(_vm.egg.task_name)\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"task-desc\"\n  }, [_vm._v(\"下载应用获得奖励\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"app-icon\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": _vm.egg.icon\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"buttons\"\n  }, [_c('div', {\n    staticClass: \"button button-assertive btn-appstore\",\n    on: {\n      \"click\": function($event) {\n        _vm.appstore()\n      }\n    }\n  }, [_vm._v(\"\\n          立即下载\\n        \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"button button-assertive btn-appstore\",\n    class: {\n      'disabled': _vm.steps[1] == 0\n    },\n    staticStyle: {\n      \"margin-top\": \"15px\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.getReward()\n      }\n    }\n  }, [_vm._v(\"\\n          领取奖励\\n        \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"bottom-text\"\n  }, [_vm._v(\"\\n      仅幸运用户可领取本任务，每个任务皆是唯一的\\n      \")]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"height\": \"300px\"\n    }\n  })])], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-7370096c\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/eggs/Detail.vue\n// module id = 799\n// module chunks = 33"],"sourceRoot":""}
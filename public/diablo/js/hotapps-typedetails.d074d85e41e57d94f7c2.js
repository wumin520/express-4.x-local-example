webpackJsonp([7],{364:function(t,n,e){e(675);var a=e(0)(e(485),e(790),null,null);t.exports=a.exports},484:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={props:{app:{},downloadRecord:Function,forwardTo:Function},methods:{}}},485:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(533),i=e.n(a),r=e(20),o=e.n(r),p=e(710),A=e.n(p),s=e(3),l=e(6);n.default={components:{AnimateHeader:o.a,AppItem:A.a},data:function(){return{parent_id:0,category_id:0,last_id:0,appLists:[],noMoreData:!0,PAGE_SIZE:20,activeIndex:1,tabLists:[],parentTitle:"",windowHeight:window.innerHeight-96}},mounted:function(){var t=this;$bus.$on("scrollTotop",function(n){t.$refs.appScroller.scrollTo(0,0,!0)});var n=this.$route.params.parent_id.split("_")[0],e=this.$route.params.parent_id.split("_")[1];this.parent_id=n,this.category_id=e,this.fetchData();var a=$storage.get("api:/s4/install.categoryList").res.data.payload,r=_.find(a,function(t){return t.parent_id==n}),o=[{category_id:0,title:"全部"}].concat(i()(r.list)),p=_.findIndex(o,function(t,n){return t.category_id==e});this.parentTitle=r.title,this.tabLists=o,this.activeIndex=p,this.$nextTick(function(){t.$refs.typeTabbar.scrollLeft=86*p/2;var n=0,e=t.$refs.typeTabbar;t.$refs.typeTabbar.addEventListener("touchstart",function(t){t.preventDefault();var e=t.touches[0].clientX;n=e},!1),t.$refs.typeTabbar.addEventListener("touchmove",function(t){t.preventDefault();var a=t.touches[0].clientX,i=n-a;e.scrollLeft+=i,n=a},!1),t.$refs.typeTabbar.addEventListener("touchend",function(t){t.preventDefault()},!1)})},methods:{tabSlider:function(t,n,e){var a=this;$router.push("./"+this.parent_id+"_"+e);var i=86*n/2,r=t.clientX,o=this.$refs.typeTabbar.scrollLeft;if(this.activeIndex!==n){var p=0,A=function t(){p++,(o+=function(t,n,e,a,i){return-a*(n/=i)*(n-2)+e}(0,p,1,15,100))<=i&&(a.$refs.typeTabbar.scrollLeft=o,requestAnimationFrame(t))},s=function t(){(o-=5)>=i-43&&(a.$refs.typeTabbar.scrollLeft=o,requestAnimationFrame(t))};r<100?requestAnimationFrame(s):requestAnimationFrame(A),this.activeIndex=n,this.category_id=e,this.last_id=0,this.noMoreData=!0,this.fetchData()}},fetchData:function(){var t=this;$loading.show("加载中..."),this._list(this.parent_id,this.category_id,this.last_id).then(function(n){t.appLists=n,$loading.hide(),setTimeout(function(){t.noMoreData=t._numberLists(n)<t.PAGE_SIZE},100)})},infinite:function(t){var n=this;if(this.noMoreData)return void t();this._list(this.parent_id,this.category_id,this.last_id).then(function(e){setTimeout(function(){if(n.noMoreData=n._numberLists(e)<n.PAGE_SIZE,0===n._numberLists(e))return void t();n.appLists=n.appLists.concat(e),t()},100)})},_list:function(t,n,e){var a=this;return $api.installAppList({parent_id:t,category_id:n,last_id:e,limit:20}).then(function(t){return t.data&&t.data.payload}).then(function(t){var n=t,e=void 0;return _.each(n,function(t,a){a===n.length-1&&(e=t.id)}),a.last_id=e,n})},downloadRecord:function(t,n,a,i){a.stopPropagation(),$api.installDownloadRecord({app_id:t,ct:n}).then(function(t){return t.data&&t.data.payload}).then(function(t){location.href=e.i(l.c)(i,{return_url:location.href})})},forwardTo:function(t){var n=this.$route.path,e="/hotapps/appDetail/"+t;$storage.set(s.z,n),$router.forward(e)},_numberLists:function(t){return t.length},back:function(){var t=_.get(this.$route.query,"backroute","/hotapps/classify");$router.back({path:t})}}}},532:function(t,n,e){t.exports={default:e(534),__esModule:!0}},533:function(t,n,e){"use strict";n.__esModule=!0;var a=e(532),i=function(t){return t&&t.__esModule?t:{default:t}}(a);n.default=function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return(0,i.default)(t)}},534:function(t,n,e){e(56),e(536),t.exports=e(8).Array.from},535:function(t,n,e){"use strict";var a=e(12),i=e(31);t.exports=function(t,n,e){n in t?a.f(t,n,i(0,e)):t[n]=e}},536:function(t,n,e){"use strict";var a=e(30),i=e(21),r=e(60),o=e(108),p=e(107),A=e(59),s=e(535),l=e(104);i(i.S+i.F*!e(109)(function(t){Array.from(t)}),"Array",{from:function(t){var n,e,i,d,c=r(t),f="function"==typeof this?this:Array,h=arguments.length,C=h>1?arguments[1]:void 0,B=void 0!==C,g=0,b=l(c);if(B&&(C=a(C,h>2?arguments[2]:void 0,2)),void 0==b||f==Array&&p(b))for(n=A(c.length),e=new f(n);n>g;g++)s(e,g,B?C(c[g],g):c[g]);else for(d=b.call(c),e=new f;!(i=d.next()).done;g++)s(e,g,B?o(d,C,[i.value,g],!0):i.value);return e.length=g,e}})},576:function(t,n,e){n=t.exports=e(346)(),n.push([t.i,"\n.f-l[data-v-56b7b0d7] {\n  float: left;\n}\n.f-r[data-v-56b7b0d7] {\n  float: right;\n}\n.clearfix[data-v-56b7b0d7]::before,\n.clearfix[data-v-56b7b0d7]::after {\n  content: '';\n  display: table;\n}\n.clearfix[data-v-56b7b0d7]::after {\n  clear: both;\n}\n.tabbar-wrap[data-v-56b7b0d7] {\n  width: 602px;\n  height: 46px;\n  padding: 14px 0 0;\n  overflow-x: auto;\n  overflow-y: hidden;\n}\n.item-bar[data-v-56b7b0d7] {\n  background: #FFFFFF;\n  color: #B5B5B5;\n  width: 86px;\n  padding: 0 17px;\n  height: 21px;\n  line-height: 21px;\n  margin-bottom: 11px;\n  text-align: center;\n}\n.item-bar span.type[data-v-56b7b0d7] {\n  white-space: nowrap;\n}\n.item-bar.active span.type[data-v-56b7b0d7] {\n  color: #3a3a3a;\n  border-bottom: 2px solid #3A3A3A;\n}\n","",{version:3,sources:["/Users/wumin/diablo/src/components/hotapps/typeDetails/AppItem.vue"],names:[],mappings:";AACA;EACE,YAAY;CACb;AACD;EACE,aAAa;CACd;AACD;;EAEE,YAAY;EACZ,eAAe;CAChB;AACD;EACE,YAAY;CACb;AACD;EACE,aAAa;EACb,aAAa;EACb,kBAAkB;EAClB,iBAAiB;EACjB,mBAAmB;CACpB;AACD;EACE,oBAAoB;EACpB,eAAe;EACf,YAAY;EACZ,gBAAgB;EAChB,aAAa;EACb,kBAAkB;EAClB,oBAAoB;EACpB,mBAAmB;CACpB;AACD;EACE,oBAAoB;CACrB;AACD;EACE,eAAe;EACf,iCAAiC;CAClC",file:"AppItem.vue",sourcesContent:["\n.f-l[data-v-56b7b0d7] {\n  float: left;\n}\n.f-r[data-v-56b7b0d7] {\n  float: right;\n}\n.clearfix[data-v-56b7b0d7]::before,\n.clearfix[data-v-56b7b0d7]::after {\n  content: '';\n  display: table;\n}\n.clearfix[data-v-56b7b0d7]::after {\n  clear: both;\n}\n.tabbar-wrap[data-v-56b7b0d7] {\n  width: 602px;\n  height: 46px;\n  padding: 14px 0 0;\n  overflow-x: auto;\n  overflow-y: hidden;\n}\n.item-bar[data-v-56b7b0d7] {\n  background: #FFFFFF;\n  color: #B5B5B5;\n  width: 86px;\n  padding: 0 17px;\n  height: 21px;\n  line-height: 21px;\n  margin-bottom: 11px;\n  text-align: center;\n}\n.item-bar span.type[data-v-56b7b0d7] {\n  white-space: nowrap;\n}\n.item-bar.active span.type[data-v-56b7b0d7] {\n  color: #3a3a3a;\n  border-bottom: 2px solid #3A3A3A;\n}\n"],sourceRoot:""}])},597:function(t,n,e){n=t.exports=e(346)(),n.push([t.i,'/* thin border */\n.type-details-page {\n  font-size: 13px;\n  font-family: "PingFangSC-Regular", "-apple-system", "Helvetica Neue", "Roboto", "Segoe UI", sans-serif;\n  font-weight: 400;\n}\n.type-details-page .bg-light {\n    background: #FFF;\n}\n.type-details-page .tabbar-container {\n    width: 100%;\n    height: 46px;\n    margin-top: 50px;\n    overflow: hidden;\n}\n.type-details-page .f-l {\n    float: left;\n}\n.type-details-page .f-r {\n    float: right;\n}\n.type-details-page .clearfix::before,\n  .type-details-page .clearfix::after {\n    content: \'\';\n    display: table;\n}\n.type-details-page .clearfix::after {\n    clear: both;\n}\n.type-details-page .tabbar-wrap {\n    width: 602px;\n    height: 46px;\n    padding: 14px 0 0;\n    overflow-x: auto;\n    overflow-y: hidden;\n}\n.type-details-page .item-bar {\n    background: #FFFFFF;\n    color: #B5B5B5;\n    width: 86px;\n    padding: 0 17px;\n    height: 21px;\n    line-height: 21px;\n    margin-bottom: 11px;\n    text-align: center;\n}\n.type-details-page .item-bar span.type {\n    white-space: nowrap;\n}\n.type-details-page .item-bar.active span.type {\n    color: #3a3a3a;\n    border-bottom: 2px solid #3A3A3A;\n}\n.type-details-page .list-wrap {\n    position: relative;\n    height: 100%;\n}\n.type-details-page .list-wrap .item-wrap {\n      padding: 14px 16px;\n}\n.type-details-page .list-wrap .item-wrap img.app-icon {\n        width: 50px;\n        height: 50px;\n        padding: 2px;\n        border-radius: 6px;\n        position: relative;\n}\n.type-details-page .list-wrap .item-wrap div:nth-child(1).f-l {\n        position: relative;\n        width: 50px;\n        height: 50px;\n        margin-right: 10px;\n}\n.type-details-page .list-wrap .item-wrap div:nth-child(1).f-l::before {\n        content: \'\';\n        position: absolute;\n        top: 0;\n        left: 0;\n        border: 1px solid #dddddd;\n        width: 100px;\n        height: 100px;\n        -webkit-transform: scale(0.5, 0.5);\n            -ms-transform: scale(0.5, 0.5);\n                transform: scale(0.5, 0.5);\n        box-sizing: border-box;\n        -webkit-transform-origin: 0 0;\n            -ms-transform-origin: 0 0;\n                transform-origin: 0 0;\n        border-radius: 6px;\n}\n.type-details-page .list-wrap .item-wrap .app-name {\n        font-size: 16px;\n        color: #3A3A3A;\n        line-height: 16px;\n        margin: 5px 0 10px;\n        width: 190px;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n}\n.type-details-page .list-wrap .item-wrap .app-desc {\n        font-size: 13px;\n        color: #B5B5B5;\n        line-height: 13px;\n        max-width: 226px;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n}\n.type-details-page .list-wrap .item-wrap .download {\n        width: 48px;\n        height: 26px;\n        display: block;\n        border: 1px solid #4a90e2;\n        line-height: 26px;\n        text-align: center;\n        margin-top: 11px;\n        text-decoration: none;\n        border-radius: 2px;\n}\n.type-details-page g {\n    stroke: #3a3a3a !important;\n    fill: #3a3a3a !important;\n}\n._v-content {\n  padding-bottom: 20px;\n}\n',"",{version:3,sources:["/Users/wumin/diablo/src/components/hotapps/typeDetails/Index.vue"],names:[],mappings:"AAAA,iBAAiB;AACjB;EACE,gBAAgB;EAChB,uGAAuG;EACvG,iBAAiB;CAClB;AACD;IACI,iBAAiB;CACpB;AACD;IACI,YAAY;IACZ,aAAa;IACb,iBAAiB;IACjB,iBAAiB;CACpB;AACD;IACI,YAAY;CACf;AACD;IACI,aAAa;CAChB;AACD;;IAEI,YAAY;IACZ,eAAe;CAClB;AACD;IACI,YAAY;CACf;AACD;IACI,aAAa;IACb,aAAa;IACb,kBAAkB;IAClB,iBAAiB;IACjB,mBAAmB;CACtB;AACD;IACI,oBAAoB;IACpB,eAAe;IACf,YAAY;IACZ,gBAAgB;IAChB,aAAa;IACb,kBAAkB;IAClB,oBAAoB;IACpB,mBAAmB;CACtB;AACD;IACI,oBAAoB;CACvB;AACD;IACI,eAAe;IACf,iCAAiC;CACpC;AACD;IACI,mBAAmB;IACnB,aAAa;CAChB;AACD;MACM,mBAAmB;CACxB;AACD;QACQ,YAAY;QACZ,aAAa;QACb,aAAa;QACb,mBAAmB;QACnB,mBAAmB;CAC1B;AACD;QACQ,mBAAmB;QACnB,YAAY;QACZ,aAAa;QACb,mBAAmB;CAC1B;AACD;QACQ,YAAY;QACZ,mBAAmB;QACnB,OAAO;QACP,QAAQ;QACR,0BAA0B;QAC1B,aAAa;QACb,cAAc;QACd,mCAAmC;YAC/B,+BAA+B;gBAC3B,2BAA2B;QACnC,uBAAuB;QACvB,8BAA8B;YAC1B,0BAA0B;gBACtB,sBAAsB;QAC9B,mBAAmB;CAC1B;AACD;QACQ,gBAAgB;QAChB,eAAe;QACf,kBAAkB;QAClB,mBAAmB;QACnB,aAAa;QACb,iBAAiB;QACjB,oBAAoB;QACpB,wBAAwB;CAC/B;AACD;QACQ,gBAAgB;QAChB,eAAe;QACf,kBAAkB;QAClB,iBAAiB;QACjB,iBAAiB;QACjB,oBAAoB;QACpB,wBAAwB;CAC/B;AACD;QACQ,YAAY;QACZ,aAAa;QACb,eAAe;QACf,0BAA0B;QAC1B,kBAAkB;QAClB,mBAAmB;QACnB,iBAAiB;QACjB,sBAAsB;QACtB,mBAAmB;CAC1B;AACD;IACI,2BAA2B;IAC3B,yBAAyB;CAC5B;AACD;EACE,qBAAqB;CACtB",file:"Index.vue",sourcesContent:['/* thin border */\n.type-details-page {\n  font-size: 13px;\n  font-family: "PingFangSC-Regular", "-apple-system", "Helvetica Neue", "Roboto", "Segoe UI", sans-serif;\n  font-weight: 400;\n}\n.type-details-page .bg-light {\n    background: #FFF;\n}\n.type-details-page .tabbar-container {\n    width: 100%;\n    height: 46px;\n    margin-top: 50px;\n    overflow: hidden;\n}\n.type-details-page .f-l {\n    float: left;\n}\n.type-details-page .f-r {\n    float: right;\n}\n.type-details-page .clearfix::before,\n  .type-details-page .clearfix::after {\n    content: \'\';\n    display: table;\n}\n.type-details-page .clearfix::after {\n    clear: both;\n}\n.type-details-page .tabbar-wrap {\n    width: 602px;\n    height: 46px;\n    padding: 14px 0 0;\n    overflow-x: auto;\n    overflow-y: hidden;\n}\n.type-details-page .item-bar {\n    background: #FFFFFF;\n    color: #B5B5B5;\n    width: 86px;\n    padding: 0 17px;\n    height: 21px;\n    line-height: 21px;\n    margin-bottom: 11px;\n    text-align: center;\n}\n.type-details-page .item-bar span.type {\n    white-space: nowrap;\n}\n.type-details-page .item-bar.active span.type {\n    color: #3a3a3a;\n    border-bottom: 2px solid #3A3A3A;\n}\n.type-details-page .list-wrap {\n    position: relative;\n    height: 100%;\n}\n.type-details-page .list-wrap .item-wrap {\n      padding: 14px 16px;\n}\n.type-details-page .list-wrap .item-wrap img.app-icon {\n        width: 50px;\n        height: 50px;\n        padding: 2px;\n        border-radius: 6px;\n        position: relative;\n}\n.type-details-page .list-wrap .item-wrap div:nth-child(1).f-l {\n        position: relative;\n        width: 50px;\n        height: 50px;\n        margin-right: 10px;\n}\n.type-details-page .list-wrap .item-wrap div:nth-child(1).f-l::before {\n        content: \'\';\n        position: absolute;\n        top: 0;\n        left: 0;\n        border: 1px solid #dddddd;\n        width: 100px;\n        height: 100px;\n        -webkit-transform: scale(0.5, 0.5);\n            -ms-transform: scale(0.5, 0.5);\n                transform: scale(0.5, 0.5);\n        box-sizing: border-box;\n        -webkit-transform-origin: 0 0;\n            -ms-transform-origin: 0 0;\n                transform-origin: 0 0;\n        border-radius: 6px;\n}\n.type-details-page .list-wrap .item-wrap .app-name {\n        font-size: 16px;\n        color: #3A3A3A;\n        line-height: 16px;\n        margin: 5px 0 10px;\n        width: 190px;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n}\n.type-details-page .list-wrap .item-wrap .app-desc {\n        font-size: 13px;\n        color: #B5B5B5;\n        line-height: 13px;\n        max-width: 226px;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n}\n.type-details-page .list-wrap .item-wrap .download {\n        width: 48px;\n        height: 26px;\n        display: block;\n        border: 1px solid #4a90e2;\n        line-height: 26px;\n        text-align: center;\n        margin-top: 11px;\n        text-decoration: none;\n        border-radius: 2px;\n}\n.type-details-page g {\n    stroke: #3a3a3a !important;\n    fill: #3a3a3a !important;\n}\n._v-content {\n  padding-bottom: 20px;\n}\n'],sourceRoot:""}])},654:function(t,n,e){var a=e(576);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e(347)("e1cf449e",a,!0)},675:function(t,n,e){var a=e(597);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e(347)("00d83afd",a,!0)},710:function(t,n,e){e(654);var a=e(0)(e(484),e(766),"data-v-56b7b0d7",null);t.exports=a.exports},766:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("li",{key:t.app.app_id,staticClass:"item-wrap clearfix",on:{click:function(n){t.forwardTo(t.app.app_id)}}},[e("div",{staticClass:"f-l"},[e("img",{staticClass:"app-icon",attrs:{src:t.app.icon}})]),t._v(" "),e("div",{staticClass:"f-l"},[e("div",{staticClass:"app-name"},[t._v(t._s(t.app.app_name))]),t._v(" "),e("p",{staticClass:"app-desc"},[t._v(t._s(t.app.intro))])]),t._v(" "),e("div",{staticClass:"f-r"},[e("a",{staticClass:"download",attrs:{href:"javascript:;"},on:{click:function(n){t.downloadRecord(t.app.app_id,t.app.ct,n,t.app.download_url)}}},[t._v("下载")])])])},staticRenderFns:[]}},790:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar: true}"}],staticClass:"page type-details-page"},[e("AnimateHeader",{attrs:{"bg-color":"#F8F8F8","menu-bg-color":"#FDFDFD",color:"#3A3A3A",title:t.parentTitle,"show-back-button":!0,"on-back-button-click":t.back,animate:!1}}),t._v(" "),e("div",{staticClass:"page-content has-animate-header bg-light"},[e("div",{ref:"typeTabbar",staticClass:"tabbar-container"},[e("ul",{staticClass:"clearfix tabbar-wrap",style:{width:86*t.tabLists.length+"px"}},t._l(t.tabLists,function(n,a){return e("li",{key:n.category_id,staticClass:"f-l item-bar",class:{active:t.activeIndex===a},on:{click:function(e){t.tabSlider(e,a,n.category_id)}}},[e("span",{staticClass:"type"},[t._v(t._s(n.title))])])}))]),t._v(" "),e("div",{staticClass:"list-wrap",style:{height:t.windowHeight+"px"}},[t.appLists.length>0?e("scroller",{ref:"appScroller",staticClass:"app-scroller",attrs:{height:"100%",onInfinite:t.infinite,noDataText:"没有更多数据了"}},[e("ul",t._l(t.appLists,function(n){return e("app-item",{key:n.app_id,attrs:{app:n,"download-record":t.downloadRecord,"forward-to":t.forwardTo}})}))]):t._e()],1)])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=hotapps-typedetails.d074d85e41e57d94f7c2.js.map
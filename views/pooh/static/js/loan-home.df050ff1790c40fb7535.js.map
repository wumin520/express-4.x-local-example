{"version":3,"sources":["webpack:///static/js/loan-home.df050ff1790c40fb7535.js","webpack:///./src/views/loan/Home.vue","webpack:///Home.vue","webpack:///./src/views/loan/Home.vue?aef7","webpack:///./src/views/loan/Home.vue?2dd2","webpack:///./src/views/loan/Home.vue?cf8c"],"names":["webpackJsonp","349","module","exports","__webpack_require__","injectStyle","ssrContext","Component","360","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","n","__WEBPACK_IMPORTED_MODULE_1_lodash__","__WEBPACK_IMPORTED_MODULE_1_lodash___default","__WEBPACK_IMPORTED_MODULE_2_vuex__","__WEBPACK_IMPORTED_MODULE_3__components_DashboardCard_vue__","__WEBPACK_IMPORTED_MODULE_3__components_DashboardCard_vue___default","__WEBPACK_IMPORTED_MODULE_4__constants__","components","Card","a","filters","index","val","isAddRMBPrefix","arguments","length","undefined","parseFloat","rate","addCommas","x","split","x1","x2","rgx","test","replace","addCommas_money","ret","indexOf","data","reportType","reportContent","chart","fetchAction","computed","i","dayCnt","this","created","getTableData","content","drawChart","window","addEventListener","destroyed","removeEventListener","methods","onTabClick","tab","event","name","onSelect","_this","getChartData","then","console","log","container","document","querySelector","labels","chartLabels","max","each","chartData","v","push","splice","Flotr","draw","label","colors","shadowSize","xaxis","ticks","len","l","color","yaxis","min","tickFormatter","y","grid","outline","verticalLines","points","show","radius","fillColor","lineWidth","lines","mouse","track","relative","lineColor","fillOpacity","position","trackFormatter","_ref","parseInt","download","$store","dispatch","370","version","sources","names","mappings","file","sourcesContent","sourceRoot","381","locals","392","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","span","slot","_s","_f","yesterday_amount","sevendays_amount","month_amount","unsettled_amount","popper-class","placeholder","on","change","model","callback","$$v","expression","_l","rt","key","type","click","$event","tab-click","reportTotal","cost","toFixed","register_num","loan_succ_num","staticStyle","width","tableData","border","stripe","prop","scopedSlots","_u","fn","scope","row","date","consume","loan_success_num","staticRenderFns"],"mappings":"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","file":"static/js/loan-home.df050ff1790c40fb7535.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 349:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(381)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(360),\n  /* template */\n  __webpack_require__(392),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 360:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuex__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_DashboardCard_vue__ = __webpack_require__(108);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_DashboardCard_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__components_DashboardCard_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__constants__ = __webpack_require__(2);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  components: {\n    Card: __WEBPACK_IMPORTED_MODULE_3__components_DashboardCard_vue___default.a\n  },\n\n  filters: {\n    index: function index(val) {\n      var isAddRMBPrefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      return parseFloat(val) > 0 ? typeof val === 'number' && isAddRMBPrefix ? '¥ ' + val : val : '-';\n    },\n    rate: function rate(val) {\n      return val === '0.00%' ? '-' : val;\n    },\n\n\n    addCommas: function addCommas(value) {\n      value += '';\n      var x = value.split('.');\n      var x1 = x[0];\n      var x2 = x.length > 1 ? '.' + x[1] : '';\n      var rgx = /(\\d+)(\\d{3})/;\n      if (rgx.test(x1)) {\n        x1 = x1.replace(rgx, '$1' + ',' + '$2');\n      }\n      return x1 + x2;\n    },\n\n    addCommas_money: function addCommas_money(value) {\n      value += '';\n      var x = value.split('.');\n      var x1 = x[0];\n      var x2 = x.length > 1 ? '.' + x[1] : '';\n      var rgx = /(\\d+)(\\d{3})/;\n      if (rgx.test(x1)) {\n        x1 = x1.replace(rgx, '$1' + ',' + '$2');\n      }\n      var ret = x1 + x2;\n      if (ret.indexOf('.') === -1) {\n        ret = ret + '.00';\n      }\n      return ret;\n    }\n  },\n\n  data: function data() {\n    return {\n      reportType: __WEBPACK_IMPORTED_MODULE_4__constants__[\"a\" /* LW */],\n      reportContent: 'cost',\n      chart: undefined\n    };\n  },\n\n\n  fetchAction: 'loanUser/getDashboardData',\n\n  computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"a\" /* mapState */])('loanUser', ['yesterday_amount', 'sevendays_amount', 'month_amount', 'unsettled_amount']), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"c\" /* mapGetters */])('loanUser', ['reportTypes', 'reportTotal', 'tableData', 'chartLabels', 'chartData']), {\n\n    'dayCnt': function dayCnt() {\n      switch (this.reportType) {\n        case __WEBPACK_IMPORTED_MODULE_4__constants__[\"a\" /* LW */]:\n          return 7;\n        case __WEBPACK_IMPORTED_MODULE_4__constants__[\"b\" /* L30D */]:\n          return 30;\n        case __WEBPACK_IMPORTED_MODULE_4__constants__[\"c\" /* L90D */]:\n          return 90;\n      }\n    }\n  }),\n\n  created: function created() {\n    // 表格数据\n    this.getTableData({\n      content: this.reportContent,\n      dayCnt: this.dayCnt\n    });\n\n    this.drawChart();\n\n    window.addEventListener('resize', this.drawChart);\n  },\n  destroyed: function destroyed() {\n    window.removeEventListener('resize', this.drawChart);\n  },\n\n\n  methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({\n    onTabClick: function onTabClick(tab, event) {\n      this.getTableData({\n        content: tab.name,\n        dayCnt: this.dayCnt\n      });\n\n      this.drawChart();\n    },\n    onSelect: function onSelect() {\n      this.getTableData({\n        content: this.reportContent,\n        dayCnt: this.dayCnt\n      });\n\n      this.drawChart();\n    },\n    drawChart: function drawChart() {\n      var _this = this;\n\n      this.getChartData({\n        content: this.reportContent,\n        dayCnt: this.dayCnt\n      }).then(function () {\n        if (_this.chart) {\n          console.log(_this.chart);\n        }\n\n        var container = document.querySelector('.rpt-chart');\n        var data = [];\n        var labels = _this.chartLabels;\n        var max = 0;\n\n        __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.each(_this.chartData, function (v, i) {\n          data.push([i, v]);\n          if (v > max) max = v;\n        });\n\n        max = max > 0 ? max * 1.5 : 101;\n\n        // 矫正x轴\n        switch (data.length) {\n          case 7:\n            data.push([data.length - 1 + 0.2, null]);\n            data.splice(0, 0, [-0.2, null]);\n            break;\n          case 30:\n            data.push([data.length - 1 + 2, null]);\n            data.splice(0, 0, [-2, null]);\n            break;\n          case 90:\n            data.push([data.length - 1 + 3, null]);\n            data.splice(0, 0, [-3, null]);\n            break;\n        }\n\n        // x轴 ticks\n        var makeTicks = function makeTicks() {\n          var len = data.length - 2;\n          var n = len % 10 === 0 ? len / 10 : 1;\n          var ticks = [];\n          __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.each(labels, function (l, i) {\n            if (i % n === 0 || i === labels.length - 1) ticks.push([i, l]);\n          });\n          return ticks;\n        };\n\n        _this.chart = window.Flotr.draw(container, [{\n          data: data,\n          label: ''\n        }], {\n          colors: ['#4A90E2', '#C0D800', '#CB4B4B', '#4DA74D', '#9440ED'],\n          shadowSize: 0,\n\n          xaxis: {\n            ticks: makeTicks(),\n            color: '#B5B5B5'\n          },\n\n          yaxis: {\n            max: max,\n            min: -max * 0.05,\n            color: '#B5B5B5',\n            tickFormatter: function tickFormatter(y) {\n              return y + ' ';\n            }\n          },\n\n          grid: {\n            color: '#B5B5B5',\n            outline: '',\n            verticalLines: false\n          },\n\n          points: {\n            show: true,\n            radius: 6,\n            fillColor: '#4A90E2',\n            lineWidth: 2,\n            color: '#FFF'\n          },\n\n          lines: {\n            show: true\n          },\n\n          mouse: {\n            track: true,\n            relative: true,\n            lineColor: '#4A90E2',\n            fillColor: '#4A90E2',\n            fillOpacity: 1,\n            position: 'nw',\n            trackFormatter: function trackFormatter(_ref) {\n              var x = _ref.x,\n                  y = _ref.y;\n\n              return labels[parseInt(x)] + ': ' + y;\n            }\n          }\n        });\n      });\n    },\n    download: function download() {\n      this.$store.dispatch('loanUser/downloadReport', { dayCnt: this.dayCnt });\n    }\n  }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"b\" /* mapActions */])('loanUser', ['getTableData', 'getChartData']))\n});\n\n/***/ }),\n\n/***/ 370:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(337)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".container{width:100%;min-width:1020px;padding:32px 35px 150px}.container .nav{padding:18px 0;height:58px}.container .nav .title{font-family:PingFangSC-Light;font-size:16px;line-height:22px;color:#888}.container .cards{padding:29px 0 25px}.container .cards .el-col.el-col-6{padding-right:10px}.container .cards .el-col.el-col-6:last-of-type{padding-right:0}.container .report-menus{padding:30px 0;height:100px}.container .report-menus .btn-download,.container .report-menus .select-report-type{float:left;margin-right:10px}.container .report-menus .select-report-type{width:180px}.container .report-menus .btn-download{width:130px}.container .chart-wrapper{height:440px;margin-bottom:76px;padding-top:10px}.container .chart-wrapper .rpt-chart{width:100%;height:100%}.select-dropdown-home .el-select-dropdown__item span{color:#3a3a3a}\", \"\", {\"version\":3,\"sources\":[\"/Users/wumin/qianka/pooh/src/views/loan/Home.vue\"],\"names\":[],\"mappings\":\"AACA,WACE,WAAY,AACZ,iBAAkB,AAClB,uBAA8B,CAU/B,AACD,gBACI,eAAgB,AAChB,WAAa,CAChB,AACD,uBACM,6BAA8B,AAC9B,eAAgB,AAChB,iBAAkB,AAClB,UAAe,CACpB,AACD,kBACI,mBAAuB,CAC1B,AACD,mCACM,kBAAoB,CACzB,AACD,gDACQ,eAAmB,CAC1B,AACD,yBACI,eAAgB,AAChB,YAAc,CACjB,AACD,oFACM,WAAY,AACZ,iBAAmB,CACxB,AACD,6CACM,WAAa,CAClB,AACD,uCACM,WAAa,CAClB,AACD,0BACI,aAAc,AACd,mBAAoB,AACpB,gBAAkB,CACrB,AACD,qCACM,WAAY,AACZ,WAAa,CAClB,AACD,qDACE,aAAe,CAChB\",\"file\":\"Home.vue\",\"sourcesContent\":[\"\\n.container {\\n  width: 100%;\\n  min-width: 1020px;\\n  padding: 32px 35px 150px 35px;\\n  /*\\n  .qk-tabs-text {\\n    height: 60px;\\n\\n    .el-tabs__header {\\n      margin-bottom: 0 !important;\\n    }\\n  }\\n  */\\n}\\n.container .nav {\\n    padding: 18px 0;\\n    height: 58px;\\n}\\n.container .nav .title {\\n      font-family: PingFangSC-Light;\\n      font-size: 16px;\\n      line-height: 22px;\\n      color: #888888;\\n}\\n.container .cards {\\n    padding: 29px 0 25px 0;\\n}\\n.container .cards .el-col.el-col-6 {\\n      padding-right: 10px;\\n}\\n.container .cards .el-col.el-col-6:last-of-type {\\n        padding-right: 0px;\\n}\\n.container .report-menus {\\n    padding: 30px 0;\\n    height: 100px;\\n}\\n.container .report-menus .select-report-type, .container .report-menus .btn-download {\\n      float: left;\\n      margin-right: 10px;\\n}\\n.container .report-menus .select-report-type {\\n      width: 180px;\\n}\\n.container .report-menus .btn-download {\\n      width: 130px;\\n}\\n.container .chart-wrapper {\\n    height: 440px;\\n    margin-bottom: 76px;\\n    padding-top: 10px;\\n}\\n.container .chart-wrapper .rpt-chart {\\n      width: 100%;\\n      height: 100%;\\n}\\n.select-dropdown-home .el-select-dropdown__item span {\\n  color: #3a3a3a;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 381:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(370);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(338)(\"4673f8e7\", content, true);\n\n/***/ }),\n\n/***/ 392:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"container\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"cards\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 6\n    }\n  }, [_c('card', [_c('div', {\n    slot: \"title\"\n  }, [_vm._v(\"昨日消耗\")]), _vm._v(\" \"), _c('div', {\n    slot: \"highlight\"\n  }, [_vm._v(_vm._s(_vm._f(\"index\")(_vm.yesterday_amount)))])])], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 6\n    }\n  }, [_c('card', [_c('div', {\n    slot: \"title\"\n  }, [_vm._v(\"7天消耗\")]), _vm._v(\" \"), _c('div', {\n    slot: \"highlight\"\n  }, [_vm._v(_vm._s(_vm._f(\"index\")(_vm.sevendays_amount)))])])], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 6\n    }\n  }, [_c('card', [_c('div', {\n    slot: \"title\"\n  }, [_vm._v(\"30天消耗\")]), _vm._v(\" \"), _c('div', {\n    slot: \"highlight\"\n  }, [_vm._v(_vm._s(_vm._f(\"index\")(_vm.month_amount)))])])], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 6\n    }\n  }, [_c('card', [_c('div', {\n    slot: \"title\"\n  }, [_vm._v(\"未结算消耗\")]), _vm._v(\" \"), _c('div', {\n    slot: \"highlight\"\n  }, [_vm._v(_vm._s(_vm._f(\"index\")(_vm.unsettled_amount)))])])], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"report-menus\"\n  }, [_c('el-select', {\n    staticClass: \"select-report-type\",\n    attrs: {\n      \"popper-class\": \"select-dropdown-home\",\n      \"placeholder\": \"请选择\"\n    },\n    on: {\n      \"change\": _vm.onSelect\n    },\n    model: {\n      value: (_vm.reportType),\n      callback: function($$v) {\n        _vm.reportType = $$v\n      },\n      expression: \"reportType\"\n    }\n  }, _vm._l((_vm.reportTypes), function(rt, index) {\n    return _c('el-option', {\n      key: index,\n      attrs: {\n        \"label\": rt.label,\n        \"value\": rt.value\n      }\n    })\n  })), _vm._v(\" \"), _c('el-button', {\n    staticClass: \"btn-download\",\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.download()\n      }\n    }\n  }, [_vm._v(\"\\n      下载报表\\n    \")])], 1), _vm._v(\" \"), _c('el-tabs', {\n    staticClass: \"qk-tabs-text\",\n    attrs: {\n      \"type\": \"card\"\n    },\n    on: {\n      \"tab-click\": _vm.onTabClick\n    },\n    model: {\n      value: (_vm.reportContent),\n      callback: function($$v) {\n        _vm.reportContent = $$v\n      },\n      expression: \"reportContent\"\n    }\n  }, [_c('el-tab-pane', {\n    attrs: {\n      \"name\": \"cost\"\n    }\n  }, [_c('span', {\n    staticClass: \"qk-tabs__item-text\",\n    slot: \"label\"\n  }, [_c('span', {\n    staticClass: \"tag\"\n  }, [_vm._v(\"消耗\")]), _c('span', {\n    staticClass: \"sub-tag\"\n  }, [_vm._v(_vm._s(_vm.reportTotal.cost > 0 ? ('¥ ' + _vm.reportTotal.cost.toFixed(2)) : '-'))])])]), _vm._v(\" \"), _c('el-tab-pane', {\n    attrs: {\n      \"name\": \"reg\"\n    }\n  }, [_c('span', {\n    staticClass: \"qk-tabs__item-text\",\n    slot: \"label\"\n  }, [_c('span', [_vm._v(\"成功注册\")]), _c('span', [_vm._v(_vm._s(_vm._f(\"index\")(_vm.reportTotal.register_num, '')))])])]), _vm._v(\" \"), _c('el-tab-pane', {\n    attrs: {\n      \"name\": \"loan_suc\"\n    }\n  }, [_c('span', {\n    staticClass: \"qk-tabs__item-text\",\n    slot: \"label\"\n  }, [_c('span', [_vm._v(\"成功借钱\")]), _c('span', [_vm._v(_vm._s(_vm._f(\"index\")(_vm.reportTotal.loan_succ_num, '')))])])])], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"chart-wrapper\"\n  }, [_c('div', {\n    staticClass: \"rpt-chart\"\n  })]), _vm._v(\" \"), _c('el-row', [_c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.tableData,\n      \"border\": \"\",\n      \"stripe\": \"\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"date\",\n      \"label\": \"日期\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('div', [_vm._v(_vm._s(scope.row.date.replace(/\\//g, '.')))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"cost\",\n      \"label\": \"消耗\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('div', [_vm._v(_vm._s(_vm._f(\"addCommas_money\")('￥' + scope.row.consume)))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"effect_actions\",\n      \"label\": \"成功注册\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('div', [_vm._v(_vm._s(_vm._f(\"addCommas\")(scope.row.register_num)))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"effect_actions\",\n      \"label\": \"成功借钱\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('div', [_vm._v(_vm._s(_vm._f(\"addCommas\")(scope.row.loan_success_num)))])]\n      }\n    }])\n  })], 1)], 1)], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"nav\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"账户首页\")])])\n}]}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/loan-home.df050ff1790c40fb7535.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7d49ddc9\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7d49ddc9\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/loan/Home.vue\n// module id = 349\n// module chunks = 1","<template>\n  <div class=\"container\">\n    <div class=\"nav\">\n      <div class=\"title\">账户首页</div>\n    </div>\n\n    <el-row class=\"cards\">\n      <!-- 总览 -->\n      <el-col :span=\"6\">\n        <card>\n          <div slot=\"title\">昨日消耗</div>\n          <div slot=\"highlight\">{{ yesterday_amount | index }}</div>\n        </card>\n      </el-col>\n\n      <el-col :span=\"6\">\n        <card>\n          <div slot=\"title\">7天消耗</div>\n          <div slot=\"highlight\">{{ sevendays_amount | index }}</div>\n        </card>\n      </el-col>\n      <el-col :span=\"6\">\n        <card>\n          <div slot=\"title\">30天消耗</div>\n          <div slot=\"highlight\">{{ month_amount | index }}</div>\n        </card>\n      </el-col>\n      <el-col :span=\"6\">\n        <card>\n          <div slot=\"title\">未结算消耗</div>\n          <div slot=\"highlight\">{{ unsettled_amount | index }}</div>\n        </card>\n      </el-col>\n    </el-row>\n\n    <!-- 报表菜单 -->\n    <el-row class=\"report-menus\">\n      <el-select class=\"select-report-type\" popper-class=\"select-dropdown-home\" v-model=\"reportType\" placeholder=\"请选择\" @change=\"onSelect\">\n        <el-option\n          v-for=\"(rt, index) in reportTypes\"\n          :key=\"index\"\n          :label=\"rt.label\"\n          :value=\"rt.value\">\n        </el-option>\n      </el-select>\n\n      <el-button type=\"primary\" class=\"btn-download\" @click=\"download()\">\n        下载报表\n      </el-button>\n    </el-row>\n\n    <!-- 报表头 Tabs -->\n    <el-tabs v-model=\"reportContent\" class=\"qk-tabs-text\" type=\"card\" @tab-click=\"onTabClick\">\n      <el-tab-pane name=\"cost\">\n        <span class=\"qk-tabs__item-text\" slot=\"label\"><span class=\"tag\">消耗</span><span class=\"sub-tag\">{{ reportTotal.cost > 0 ? ('¥ ' + reportTotal.cost.toFixed(2)) : '-' }}</span></span>\n      </el-tab-pane>\n      <el-tab-pane name=\"reg\">\n        <span class=\"qk-tabs__item-text\" slot=\"label\"><span>成功注册</span><span>{{ reportTotal.register_num | index('') }}</span></span>\n      </el-tab-pane>\n      <el-tab-pane name=\"loan_suc\">\n        <span class=\"qk-tabs__item-text\" slot=\"label\"><span>成功借钱</span><span>{{ reportTotal.loan_succ_num | index('') }}</span></span>\n      </el-tab-pane>\n    </el-tabs>\n\n    <!-- 图表 -->\n    <el-row class=\"chart-wrapper\">\n      <div class=\"rpt-chart\"></div>\n    </el-row>\n\n    <!-- 表格 -->\n    <el-row>\n      <el-table\n        :data=\"tableData\"\n        border\n        stripe\n        style=\"width: 100%;\"\n      >\n        <el-table-column\n          prop=\"date\"\n          label=\"日期\">\n          <template scope=\"scope\">\n            <div>{{ scope.row.date.replace(/\\//g, '.') }}</div>\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"cost\"\n          label=\"消耗\">\n          <template scope=\"scope\">\n            <div>{{ '￥' + scope.row.consume | addCommas_money }}</div>\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"effect_actions\"\n          label=\"成功注册\">\n          <template scope=\"scope\">\n            <div>{{ scope.row.register_num | addCommas }}</div>\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"effect_actions\"\n          label=\"成功借钱\">\n          <template scope=\"scope\">\n            <div>{{ scope.row.loan_success_num | addCommas }}</div>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-row>\n  </div>\n</template>\n\n<style lang='scss'>\n  .container {\n    width: 100%;\n    min-width: 1020px;\n    padding: 32px 35px 150px 35px;\n\n    .nav {\n      padding: 18px 0;\n      height: 58px;\n\n      .title {\n        font-family: PingFangSC-Light;\n        font-size: 16px;\n        line-height: 22px;\n        color: #888888;\n      }\n    }\n\n    .cards {\n      padding: 29px 0 25px 0;\n\n      .el-col.el-col-6 {\n        padding-right: 10px;\n\n        &:last-of-type {\n          padding-right: 0px;\n        }\n      }\n    }\n\n    .report-menus {\n      padding: 30px 0;\n      height: 100px;\n\n      .select-report-type, .btn-download {\n        float: left;\n        margin-right: 10px;\n      }\n\n      .select-report-type {\n        width: 180px;\n      }\n\n      .btn-download {\n        width: 130px;\n      }\n    }\n\n    /*\n    .qk-tabs-text {\n      height: 60px;\n\n      .el-tabs__header {\n        margin-bottom: 0 !important;\n      }\n    }\n    */\n\n    .chart-wrapper {\n      height: 440px;\n      margin-bottom: 76px;\n      padding-top: 10px;\n\n      .rpt-chart {\n        width: 100%;\n        height: 100%;\n      }\n    }\n  }\n  .select-dropdown-home {\n    .el-select-dropdown__item {\n      span {\n        color: #3a3a3a;\n      }\n    }\n  }\n</style>\n\n<script>\n  import _ from 'lodash'\n  import {mapState, mapGetters, mapActions} from 'vuex'\n  import DashboardCard from '@/components/DashboardCard.vue'\n  import { LW, L30D, L90D } from '@/constants'\n\n  export default {\n    components: {\n      Card: DashboardCard\n    },\n\n    filters: {\n      index (val, isAddRMBPrefix = true) {\n        return parseFloat(val) > 0\n          ? ((typeof val === 'number' && isAddRMBPrefix) ? '¥ ' + val : val)\n          : '-'\n      },\n\n      rate (val) {\n        return val === '0.00%'\n          ? '-'\n          : val\n      },\n\n      addCommas: function (value) {\n        value += ''\n        const x = value.split('.')\n        var x1 = x[0]\n        const x2 = x.length > 1 ? '.' + x[1] : ''\n        const rgx = /(\\d+)(\\d{3})/\n        if (rgx.test(x1)) {\n          x1 = x1.replace(rgx, '$1' + ',' + '$2')\n        }\n        return x1 + x2\n      },\n\n      addCommas_money: function (value) {\n        value += ''\n        const x = value.split('.')\n        var x1 = x[0]\n        const x2 = x.length > 1 ? '.' + x[1] : ''\n        const rgx = /(\\d+)(\\d{3})/\n        if (rgx.test(x1)) {\n          x1 = x1.replace(rgx, '$1' + ',' + '$2')\n        }\n        var ret = x1 + x2\n        if (ret.indexOf('.') === -1) {\n          ret = ret + '.00'\n        }\n        return ret\n      }\n    },\n\n    data () {\n      return {\n        reportType: LW,\n        reportContent: 'cost',\n        chart: undefined\n      }\n    },\n\n    fetchAction: 'loanUser/getDashboardData',\n\n    computed: {\n      ...mapState('loanUser', [\n        'yesterday_amount',\n        'sevendays_amount',\n        'month_amount',\n        'unsettled_amount'\n      ]),\n\n      ...mapGetters('loanUser', [\n        'reportTypes',\n        'reportTotal',\n        'tableData',\n        'chartLabels',\n        'chartData'\n      ]),\n\n      'dayCnt': function () {\n        switch (this.reportType) {\n          case LW:\n            return 7\n          case L30D:\n            return 30\n          case L90D:\n            return 90\n        }\n      }\n    },\n\n    created () {\n      // 表格数据\n      this.getTableData({\n        content: this.reportContent,\n        dayCnt: this.dayCnt\n      })\n\n      this.drawChart()\n\n      window.addEventListener('resize', this.drawChart)\n    },\n\n    destroyed () {\n      window.removeEventListener('resize', this.drawChart)\n    },\n\n    methods: {\n      onTabClick (tab, event) {\n        this.getTableData({\n          content: tab.name,\n          dayCnt: this.dayCnt\n        })\n\n        this.drawChart()\n      },\n\n      onSelect () {\n        this.getTableData({\n          content: this.reportContent,\n          dayCnt: this.dayCnt\n        })\n\n        this.drawChart()\n      },\n\n      drawChart () {\n        this.getChartData({\n          content: this.reportContent,\n          dayCnt: this.dayCnt\n        }).then(() => {\n          if (this.chart) {\n            console.log(this.chart)\n          }\n\n          let container = document.querySelector('.rpt-chart')\n          let data = []\n          let labels = this.chartLabels\n          let max = 0\n\n          _.each(this.chartData, (v, i) => {\n            data.push([i, v])\n            if (v > max) max = v\n          })\n\n          max = max > 0 ? max * 1.5 : 101\n\n          // 矫正x轴\n          switch (data.length) {\n            case 7:\n              data.push([data.length - 1 + 0.2, null])\n              data.splice(0, 0, [-0.2, null])\n              break\n            case 30:\n              data.push([data.length - 1 + 2, null])\n              data.splice(0, 0, [-2, null])\n              break\n            case 90:\n              data.push([data.length - 1 + 3, null])\n              data.splice(0, 0, [-3, null])\n              break\n          }\n\n          // x轴 ticks\n          const makeTicks = () => {\n            let len = data.length - 2\n            let n = len % 10 === 0 ? len / 10 : 1\n            let ticks = []\n            _.each(labels, (l, i) => {\n              if (i % n === 0 || i === labels.length - 1) ticks.push([i, l])\n            })\n            return ticks\n          }\n\n          this.chart = window.Flotr.draw(\n            container,\n            [\n              {\n                data: data,\n                label: ''\n              }\n            ],\n            {\n              colors: ['#4A90E2', '#C0D800', '#CB4B4B', '#4DA74D', '#9440ED'],\n              shadowSize: 0,\n\n              xaxis: {\n                ticks: makeTicks(),\n                color: '#B5B5B5'\n              },\n\n              yaxis: {\n                max: max,\n                min: -max * 0.05,\n                color: '#B5B5B5',\n                tickFormatter: function (y) {\n                  return y + ' '\n                }\n              },\n\n              grid: {\n                color: '#B5B5B5',\n                outline: '',\n                verticalLines: false\n              },\n\n              points: {\n                show: true,\n                radius: 6,\n                fillColor: '#4A90E2',\n                lineWidth: 2,\n                color: '#FFF'\n              },\n\n              lines: {\n                show: true\n              },\n\n              mouse: {\n                track: true,\n                relative: true,\n                lineColor: '#4A90E2',\n                fillColor: '#4A90E2',\n                fillOpacity: 1,\n                position: 'nw',\n                trackFormatter: ({x, y}) => {\n                  return labels[parseInt(x)] + ': ' + y\n                }\n              }\n            }\n          )\n        })\n      },\n\n      download () {\n        this.$store.dispatch('loanUser/downloadReport', { dayCnt: this.dayCnt })\n      },\n\n      ...mapActions('loanUser', [\n        'getTableData',\n        'getChartData'\n      ])\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Home.vue?d84e77dc","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".container{width:100%;min-width:1020px;padding:32px 35px 150px}.container .nav{padding:18px 0;height:58px}.container .nav .title{font-family:PingFangSC-Light;font-size:16px;line-height:22px;color:#888}.container .cards{padding:29px 0 25px}.container .cards .el-col.el-col-6{padding-right:10px}.container .cards .el-col.el-col-6:last-of-type{padding-right:0}.container .report-menus{padding:30px 0;height:100px}.container .report-menus .btn-download,.container .report-menus .select-report-type{float:left;margin-right:10px}.container .report-menus .select-report-type{width:180px}.container .report-menus .btn-download{width:130px}.container .chart-wrapper{height:440px;margin-bottom:76px;padding-top:10px}.container .chart-wrapper .rpt-chart{width:100%;height:100%}.select-dropdown-home .el-select-dropdown__item span{color:#3a3a3a}\", \"\", {\"version\":3,\"sources\":[\"/Users/wumin/qianka/pooh/src/views/loan/Home.vue\"],\"names\":[],\"mappings\":\"AACA,WACE,WAAY,AACZ,iBAAkB,AAClB,uBAA8B,CAU/B,AACD,gBACI,eAAgB,AAChB,WAAa,CAChB,AACD,uBACM,6BAA8B,AAC9B,eAAgB,AAChB,iBAAkB,AAClB,UAAe,CACpB,AACD,kBACI,mBAAuB,CAC1B,AACD,mCACM,kBAAoB,CACzB,AACD,gDACQ,eAAmB,CAC1B,AACD,yBACI,eAAgB,AAChB,YAAc,CACjB,AACD,oFACM,WAAY,AACZ,iBAAmB,CACxB,AACD,6CACM,WAAa,CAClB,AACD,uCACM,WAAa,CAClB,AACD,0BACI,aAAc,AACd,mBAAoB,AACpB,gBAAkB,CACrB,AACD,qCACM,WAAY,AACZ,WAAa,CAClB,AACD,qDACE,aAAe,CAChB\",\"file\":\"Home.vue\",\"sourcesContent\":[\"\\n.container {\\n  width: 100%;\\n  min-width: 1020px;\\n  padding: 32px 35px 150px 35px;\\n  /*\\n  .qk-tabs-text {\\n    height: 60px;\\n\\n    .el-tabs__header {\\n      margin-bottom: 0 !important;\\n    }\\n  }\\n  */\\n}\\n.container .nav {\\n    padding: 18px 0;\\n    height: 58px;\\n}\\n.container .nav .title {\\n      font-family: PingFangSC-Light;\\n      font-size: 16px;\\n      line-height: 22px;\\n      color: #888888;\\n}\\n.container .cards {\\n    padding: 29px 0 25px 0;\\n}\\n.container .cards .el-col.el-col-6 {\\n      padding-right: 10px;\\n}\\n.container .cards .el-col.el-col-6:last-of-type {\\n        padding-right: 0px;\\n}\\n.container .report-menus {\\n    padding: 30px 0;\\n    height: 100px;\\n}\\n.container .report-menus .select-report-type, .container .report-menus .btn-download {\\n      float: left;\\n      margin-right: 10px;\\n}\\n.container .report-menus .select-report-type {\\n      width: 180px;\\n}\\n.container .report-menus .btn-download {\\n      width: 130px;\\n}\\n.container .chart-wrapper {\\n    height: 440px;\\n    margin-bottom: 76px;\\n    padding-top: 10px;\\n}\\n.container .chart-wrapper .rpt-chart {\\n      width: 100%;\\n      height: 100%;\\n}\\n.select-dropdown-home .el-select-dropdown__item span {\\n  color: #3a3a3a;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7d49ddc9\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/loan/Home.vue\n// module id = 370\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7d49ddc9\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Home.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"4673f8e7\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7d49ddc9\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/loan/Home.vue\n// module id = 381\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"container\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"cards\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 6\n    }\n  }, [_c('card', [_c('div', {\n    slot: \"title\"\n  }, [_vm._v(\"昨日消耗\")]), _vm._v(\" \"), _c('div', {\n    slot: \"highlight\"\n  }, [_vm._v(_vm._s(_vm._f(\"index\")(_vm.yesterday_amount)))])])], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 6\n    }\n  }, [_c('card', [_c('div', {\n    slot: \"title\"\n  }, [_vm._v(\"7天消耗\")]), _vm._v(\" \"), _c('div', {\n    slot: \"highlight\"\n  }, [_vm._v(_vm._s(_vm._f(\"index\")(_vm.sevendays_amount)))])])], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 6\n    }\n  }, [_c('card', [_c('div', {\n    slot: \"title\"\n  }, [_vm._v(\"30天消耗\")]), _vm._v(\" \"), _c('div', {\n    slot: \"highlight\"\n  }, [_vm._v(_vm._s(_vm._f(\"index\")(_vm.month_amount)))])])], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 6\n    }\n  }, [_c('card', [_c('div', {\n    slot: \"title\"\n  }, [_vm._v(\"未结算消耗\")]), _vm._v(\" \"), _c('div', {\n    slot: \"highlight\"\n  }, [_vm._v(_vm._s(_vm._f(\"index\")(_vm.unsettled_amount)))])])], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"report-menus\"\n  }, [_c('el-select', {\n    staticClass: \"select-report-type\",\n    attrs: {\n      \"popper-class\": \"select-dropdown-home\",\n      \"placeholder\": \"请选择\"\n    },\n    on: {\n      \"change\": _vm.onSelect\n    },\n    model: {\n      value: (_vm.reportType),\n      callback: function($$v) {\n        _vm.reportType = $$v\n      },\n      expression: \"reportType\"\n    }\n  }, _vm._l((_vm.reportTypes), function(rt, index) {\n    return _c('el-option', {\n      key: index,\n      attrs: {\n        \"label\": rt.label,\n        \"value\": rt.value\n      }\n    })\n  })), _vm._v(\" \"), _c('el-button', {\n    staticClass: \"btn-download\",\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.download()\n      }\n    }\n  }, [_vm._v(\"\\n      下载报表\\n    \")])], 1), _vm._v(\" \"), _c('el-tabs', {\n    staticClass: \"qk-tabs-text\",\n    attrs: {\n      \"type\": \"card\"\n    },\n    on: {\n      \"tab-click\": _vm.onTabClick\n    },\n    model: {\n      value: (_vm.reportContent),\n      callback: function($$v) {\n        _vm.reportContent = $$v\n      },\n      expression: \"reportContent\"\n    }\n  }, [_c('el-tab-pane', {\n    attrs: {\n      \"name\": \"cost\"\n    }\n  }, [_c('span', {\n    staticClass: \"qk-tabs__item-text\",\n    slot: \"label\"\n  }, [_c('span', {\n    staticClass: \"tag\"\n  }, [_vm._v(\"消耗\")]), _c('span', {\n    staticClass: \"sub-tag\"\n  }, [_vm._v(_vm._s(_vm.reportTotal.cost > 0 ? ('¥ ' + _vm.reportTotal.cost.toFixed(2)) : '-'))])])]), _vm._v(\" \"), _c('el-tab-pane', {\n    attrs: {\n      \"name\": \"reg\"\n    }\n  }, [_c('span', {\n    staticClass: \"qk-tabs__item-text\",\n    slot: \"label\"\n  }, [_c('span', [_vm._v(\"成功注册\")]), _c('span', [_vm._v(_vm._s(_vm._f(\"index\")(_vm.reportTotal.register_num, '')))])])]), _vm._v(\" \"), _c('el-tab-pane', {\n    attrs: {\n      \"name\": \"loan_suc\"\n    }\n  }, [_c('span', {\n    staticClass: \"qk-tabs__item-text\",\n    slot: \"label\"\n  }, [_c('span', [_vm._v(\"成功借钱\")]), _c('span', [_vm._v(_vm._s(_vm._f(\"index\")(_vm.reportTotal.loan_succ_num, '')))])])])], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"chart-wrapper\"\n  }, [_c('div', {\n    staticClass: \"rpt-chart\"\n  })]), _vm._v(\" \"), _c('el-row', [_c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.tableData,\n      \"border\": \"\",\n      \"stripe\": \"\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"date\",\n      \"label\": \"日期\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('div', [_vm._v(_vm._s(scope.row.date.replace(/\\//g, '.')))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"cost\",\n      \"label\": \"消耗\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('div', [_vm._v(_vm._s(_vm._f(\"addCommas_money\")('￥' + scope.row.consume)))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"effect_actions\",\n      \"label\": \"成功注册\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('div', [_vm._v(_vm._s(_vm._f(\"addCommas\")(scope.row.register_num)))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"effect_actions\",\n      \"label\": \"成功借钱\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('div', [_vm._v(_vm._s(_vm._f(\"addCommas\")(scope.row.loan_success_num)))])]\n      }\n    }])\n  })], 1)], 1)], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"nav\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"账户首页\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-7d49ddc9\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/loan/Home.vue\n// module id = 392\n// module chunks = 1"],"sourceRoot":""}